<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A sandboxed scripting language for Minecraft event automation">
    <title>Utility Functions â€” Quill</title>
    <link rel="stylesheet" href="https://quill.kmathers.co.uk/docs/quilldocs.css">
</head>

<body>
    <div class="particles" id="particles"></div>

    <div class="layout">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>
                    <img src="https://raw.githubusercontent.com/KohanMathers/Quill/refs/heads/main/QuillLogo.png"
                        alt="Quill Logo">
                    <a href="../index.html">Quill</a>
                </h2>
                <p class="sidebar-tagline">A sandboxed scripting language for Minecraft event automation</p>
            </div>
            <nav class="sidebar-nav">
                <ul><li class='folder'><span class='folder-name'>advanced</span><ul><li><a href='/docs/advanced/custom-events.html'>Custom Events</a></li><li><a href='/docs/advanced/error-handling.html'>Error Handling</a></li><li><a href='/docs/advanced/persistent-variables.html'>Persistent Variables</a></li><li><a href='/docs/advanced/security.html'>Security</a></li><li><a href='/docs/advanced/subscopes.html'>Subscopes</a></li></ul></li><li class='folder'><span class='folder-name'>api</span><ul><li><a href='/docs/api/constructors.html'>Constructors</a></li><li><a href='/docs/api/player.html'>Player</a></li><li><a href='/docs/api/scope.html'>Scope</a></li><li><a href='/docs/api/utility.html' class='active'>Utility</a></li><li><a href='/docs/api/world.html'>World</a></li></ul></li><li class='folder'><span class='folder-name'>commands</span><ul><li><a href='/docs/commands/general.html'>General</a></li><li><a href='/docs/commands/scope-management.html'>Scope Management</a></li><li><a href='/docs/commands/script-management.html'>Script Management</a></li></ul></li><li><a href='/docs/configuration.html'>Configuration</a></li><li class='folder'><span class='folder-name'>developer</span><ul><li><a href='/docs/developer/api-integration.html'>Api Integration</a></li></ul></li><li class='folder'><span class='folder-name'>events</span><ul><li><a href='/docs/events/block-events.html'>Block Events</a></li><li><a href='/docs/events/entity-events.html'>Entity Events</a></li><li><a href='/docs/events/player-events.html'>Player Events</a></li><li><a href='/docs/events/world-events.html'>World Events</a></li></ul></li><li class='folder'><span class='folder-name'>examples</span><ul><li><a href='/docs/examples/basic-scripts.html'>Basic Scripts</a></li><li><a href='/docs/examples/minigames.html'>Minigames</a></li></ul></li><li><a href='/docs/faq.html'>Faq</a></li><li><a href='/docs/getting-started.html'>Getting Started</a></li><li><a href='/docs/index.html'>Index</a></li><li><a href='/docs/installation.html'>Installation</a></li><li class='folder'><span class='folder-name'>language</span><ul><li><a href='/docs/language/data-types.html'>Data Types</a></li><li><a href='/docs/language/events.html'>Events</a></li><li><a href='/docs/language/functions.html'>Functions</a></li><li><a href='/docs/language/scopes.html'>Scopes</a></li><li><a href='/docs/language/string-interpolation.html'>String Interpolation</a></li><li><a href='/docs/language/syntax.html'>Syntax</a></li></ul></li><li><a href='/docs/quickstart.html'>Quickstart</a></li></ul>
            </nav>
            <div class="sidebar-footer">
                <a class="github-link" href="https://github.com/kohanmathers/quill" target="_blank">
                    <svg width="20" height="20" viewBox="0 0 16 16" fill="currentColor">
                        <path
                            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z" />
                    </svg>
                    View on GitHub
                </a>
            </div>
        </aside>

        <main class="content">
            <header class="hero hide-hero">
                <img class="hero-logo"
                    src="https://raw.githubusercontent.com/KohanMathers/Quill/refs/heads/main/QuillLogo.png"
                    alt="Quill Logo">
                <h1>Quill</h1>
                <p>A sandboxed scripting language for Minecraft event automation</p>
                <div class="button-group">
                    <a class="ghbutton" href="https://github.com/kohanmathers/quill" target="_blank">View on GitHub</a>
                    <a class="learnmore" href="getting-started.html">Get Started</a>
                </div>
            </header>

            <nav class="breadcrumbs" aria-label="Breadcrumb">
                <a href='../index.html'>Quill</a><span class='separator'>/</span><span>Api</span><span class='separator'>/</span><span class='current'>Utility</span>
            </nav>

            <div class="doc-layout">
                <article class="doc-content">
                    <h1 class="page-title">Utility Functions</h1>
                    <h1 id="utility-functions">Utility Functions</h1>
<h2 id="overview">Overview</h2>
<p>Utility functions provide essential tools for event control, mathematical operations, list manipulation, string processing, type conversion, and player queries. These functions form the foundation for complex script logic, data processing, and game mechanics.</p>
<p>Utility functions are diverse and serve many purposes: from canceling events and performing calculations to managing collections and querying player data. They are the building blocks that enable sophisticated Quill scripts.</p>
<h2 id="control-functions">Control Functions</h2>
<h3 id="cancel">cancel()</h3>
<p>Cancels a cancelable Minecraft event.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>cancel(event)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>event</code> - Event object to cancel (must be cancelable)</p>
<p><strong>Returns:</strong> <code>true</code> on success</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// Cancel block break</span>
<span class="nx">OnEvent</span><span class="p">(</span><span class="nx">BlockBreak</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">block</span><span class="p">.</span><span class="k">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;bedrock&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">cancel</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span>
<span class="w">        </span><span class="nx">sendmessage</span><span class="p">(</span><span class="nx">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Cannot break bedrock!&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Cancel damage</span>
<span class="nx">OnEvent</span><span class="p">(</span><span class="nx">PlayerDamage</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">in_region</span><span class="p">(</span><span class="nx">player</span><span class="p">,</span><span class="w"> </span><span class="nx">safeZone</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">cancel</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span>
<span class="w">        </span><span class="nx">sendmessage</span><span class="p">(</span><span class="nx">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;You are safe here&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Cancel PvP damage</span>
<span class="nx">OnEvent</span><span class="p">(</span><span class="nx">PlayerDamage</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">damage</span><span class="p">.</span><span class="nx">source</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nx">null</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">damage</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="k">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;player&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">cancel</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span>
<span class="w">            </span><span class="nx">sendmessage</span><span class="p">(</span><span class="nx">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PvP is disabled!&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Conditional cancel</span>
<span class="nx">OnEvent</span><span class="p">(</span><span class="nx">BlockBreak</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">is_op</span><span class="p">(</span><span class="nx">player</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">block</span><span class="p">.</span><span class="k">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;spawner&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">cancel</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span>
<span class="w">            </span><span class="nx">sendmessage</span><span class="p">(</span><span class="nx">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Only ops can break spawners&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Cancel teleport</span>
<span class="nx">OnEvent</span><span class="p">(</span><span class="nx">PlayerTeleport</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">teleport</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">world</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nx">teleport</span><span class="p">.</span><span class="nx">from</span><span class="p">.</span><span class="nx">world</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">cancel</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span>
<span class="w">        </span><span class="nx">sendmessage</span><span class="p">(</span><span class="nx">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;World teleportation disabled!&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Only works with cancelable events<br />
- Must pass the <code>event</code> object from event context<br />
- Events like PlayerJoin/PlayerQuit cannot be canceled<br />
- Throws error if event is not cancelable<br />
- Use within event handlers only</p>
<h3 id="wait">wait()</h3>
<p>Pauses script execution for a specified number of ticks.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">wait</span><span class="ss">(</span><span class="nv">ticks</span><span class="ss">)</span>
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>ticks</code> - Number of ticks to wait (20 ticks = 1 second)</p>
<p><strong>Returns:</strong> <code>true</code> on success</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">//</span><span class="w"> </span><span class="n">Wait</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">second</span>
<span class="n">wait</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>

<span class="o">//</span><span class="w"> </span><span class="n">Wait</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="n">seconds</span>
<span class="n">wait</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

<span class="o">//</span><span class="w"> </span><span class="n">Wait</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="n">seconds</span>
<span class="n">wait</span><span class="p">(</span><span class="mi">600</span><span class="p">)</span>

<span class="o">//</span><span class="w"> </span><span class="n">Delayed</span><span class="w"> </span><span class="n">message</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerJoin</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Welcome!&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">wait</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">Wait</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">seconds</span>
<span class="w">    </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Enjoy your stay!&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Countdown</span>
<span class="k">func</span><span class="w"> </span><span class="n">countdown</span><span class="p">(</span><span class="n">seconds</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nb">range</span><span class="p">(</span><span class="n">seconds</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">broadcast</span><span class="p">(</span><span class="s2">&quot;Starting in {i}...&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="n">wait</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">Wait</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">second</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">broadcast</span><span class="p">(</span><span class="s2">&quot;GO!&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Delayed</span><span class="w"> </span><span class="n">teleport</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="o">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;!home&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Teleporting in 5 seconds...&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="n">wait</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="w">        </span><span class="n">teleport</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">65</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">        </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Welcome home!&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Non-negative values only<br />
- 20 ticks = 1 second in Minecraft<br />
- Blocks script execution during wait<br />
- Use for delayed actions and timing</p>
<h2 id="math-functions">Math Functions</h2>
<h3 id="random">random()</h3>
<p>Generates a random number within a range.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">random</span><span class="ss">(</span><span class="nv">max</span><span class="ss">)</span>
<span class="k">random</span><span class="ss">(</span><span class="nv">min</span>,<span class="w"> </span><span class="nv">max</span><span class="ss">)</span>
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>min</code> - Minimum value (inclusive)<br />
- <code>max</code> - Maximum value (exclusive)</p>
<p><strong>Returns:</strong> Number (random value in range)</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// Random number 0 to 10</span>
<span class="n">let</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">random</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="c1">// Random chance</span>
<span class="n">let</span><span class="w"> </span><span class="n">chance</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">random</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span>
<span class="k">if</span><span class="w"> </span><span class="n">chance</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Lucky! 10% chance!&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Random spawn location</span>
<span class="n">let</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">random</span><span class="p">(</span><span class="o">-</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span>
<span class="n">let</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">random</span><span class="p">(</span><span class="o">-</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span>
<span class="n">teleport</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="mi">65</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">)</span>

<span class="c1">// Random reward</span>
<span class="n">let</span><span class="w"> </span><span class="n">reward</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">random</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span>
<span class="k">if</span><span class="w"> </span><span class="n">reward</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">give</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;diamond&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<span class="w">    </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Jackpot!&quot;</span><span class="p">)</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">reward</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">give</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;gold_ingot&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
<span class="w">    </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Good reward!&quot;</span><span class="p">)</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">give</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;iron_ingot&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
<span class="w">    </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Better luck next time&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Random event timing</span>
<span class="n">let</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">random</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">)</span>
<span class="n">wait</span><span class="p">(</span><span class="n">delay</span><span class="p">)</span>
<span class="n">broadcast</span><span class="p">(</span><span class="s">&quot;Random event triggered!&quot;</span><span class="p">)</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Returns decimal number (use with <code>floor()</code> or <code>round()</code> for integers)<br />
- Max value is exclusive (not included in range)<br />
- Min value is inclusive (included in range)<br />
- Useful for procedural generation and RNG mechanics</p>
<h3 id="round">round()</h3>
<p>Rounds a number to the nearest integer.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>round(number)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>number</code> - Number to round</p>
<p><strong>Returns:</strong> Number (rounded to nearest integer)</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// Round decimal</span>
<span class="n">let</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">round</span><span class="p">(</span><span class="mf">3.7</span><span class="p">)</span><span class="w">  </span><span class="c1">// 4</span>
<span class="n">let</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">round</span><span class="p">(</span><span class="mf">3.2</span><span class="p">)</span><span class="w">  </span><span class="c1">// 3</span>

<span class="c1">// Round negative</span>
<span class="n">let</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">round</span><span class="p">(</span><span class="o">-</span><span class="mf">3.7</span><span class="p">)</span><span class="w">  </span><span class="c1">// -4</span>
<span class="n">let</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">round</span><span class="p">(</span><span class="o">-</span><span class="mf">3.2</span><span class="p">)</span><span class="w">  </span><span class="c1">// -3</span>

<span class="c1">// Round random value</span>
<span class="n">let</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">random</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span>
<span class="n">let</span><span class="w"> </span><span class="n">rounded</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">round</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Random: {rounded}&quot;</span><span class="p">)</span>

<span class="c1">// Round calculation</span>
<span class="n">let</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">distance</span><span class="p">(</span><span class="n">player</span><span class="p">.</span><span class="n">location</span><span class="p">,</span><span class="w"> </span><span class="n">location</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">))</span>
<span class="n">let</span><span class="w"> </span><span class="n">rounded</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">round</span><span class="p">(</span><span class="n">distance</span><span class="p">)</span>
<span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Distance: {rounded} blocks&quot;</span><span class="p">)</span>

<span class="c1">// Round percentage</span>
<span class="n">let</span><span class="w"> </span><span class="n">health</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">get_health</span><span class="p">(</span><span class="n">player</span><span class="p">)</span>
<span class="n">let</span><span class="w"> </span><span class="n">maxHealth</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">20</span>
<span class="n">let</span><span class="w"> </span><span class="n">percent</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">(</span><span class="n">health</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">maxHealth</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span>
<span class="n">let</span><span class="w"> </span><span class="n">rounded</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">round</span><span class="p">(</span><span class="n">percent</span><span class="p">)</span>
<span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Health: {rounded}%&quot;</span><span class="p">)</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Rounds to nearest integer<br />
- 0.5 rounds up to 1<br />
- -0.5 rounds down to -1<br />
- Returns number type (not integer specifically)</p>
<h3 id="floor">floor()</h3>
<p>Rounds a number down to the nearest integer.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>floor(number)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>number</code> - Number to floor</p>
<p><strong>Returns:</strong> Number (rounded down)</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">//</span><span class="w"> </span><span class="nf">Floor</span><span class="w"> </span><span class="n">positive</span>
<span class="n">let</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">floor</span><span class="p">(</span><span class="mf">3.9</span><span class="p">)</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="mi">3</span>
<span class="n">let</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">floor</span><span class="p">(</span><span class="mf">3.1</span><span class="p">)</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="mi">3</span>

<span class="o">//</span><span class="w"> </span><span class="nf">Floor</span><span class="w"> </span><span class="n">negative</span>
<span class="n">let</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">floor</span><span class="p">(</span><span class="o">-</span><span class="mf">3.1</span><span class="p">)</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="o">-</span><span class="mi">4</span>
<span class="n">let</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">floor</span><span class="p">(</span><span class="o">-</span><span class="mf">3.9</span><span class="p">)</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="o">-</span><span class="mi">4</span>

<span class="o">//</span><span class="w"> </span><span class="k">Get</span><span class="w"> </span><span class="k">integer</span><span class="w"> </span><span class="n">part</span>
<span class="n">let</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">42.7</span>
<span class="n">let</span><span class="w"> </span><span class="k">integer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">floor</span><span class="p">(</span><span class="k">value</span><span class="p">)</span>
<span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;Integer part: {integer}&quot;</span><span class="p">)</span>

<span class="o">//</span><span class="w"> </span><span class="nf">Convert</span><span class="w"> </span><span class="nc">float</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nc">int</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">indexing</span>
<span class="n">let</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">floor</span><span class="p">(</span><span class="n">random</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">))</span>
<span class="n">let</span><span class="w"> </span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">&quot;sword&quot;, &quot;bow&quot;, &quot;pickaxe&quot;</span><span class="o">]</span>
<span class="n">let</span><span class="w"> </span><span class="n">chosen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">items</span><span class="o">[</span><span class="n">index</span><span class="o">]</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Always rounds down (toward negative infinity)<br />
- floor(3.9) = 3, floor(-3.1) = -4<br />
- Useful for integer division<br />
- Common for grid/chunk calculations</p>
<h3 id="ceil">ceil()</h3>
<p>Rounds a number up to the nearest integer.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>ceil(number)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>number</code> - Number to ceil</p>
<p><strong>Returns:</strong> Number (rounded up)</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// Ceil positive</span>
<span class="n">let</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">ceil</span><span class="p">(</span><span class="mf">3.1</span><span class="p">)</span><span class="w">  </span><span class="c1">// 4</span>
<span class="n">let</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">ceil</span><span class="p">(</span><span class="mf">3.9</span><span class="p">)</span><span class="w">  </span><span class="c1">// 4</span>

<span class="c1">// Ceil negative</span>
<span class="n">let</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">ceil</span><span class="p">(</span><span class="o">-</span><span class="mf">3.9</span><span class="p">)</span><span class="w">  </span><span class="c1">// -3</span>
<span class="n">let</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">ceil</span><span class="p">(</span><span class="o">-</span><span class="mf">3.1</span><span class="p">)</span><span class="w">  </span><span class="c1">// -3</span>

<span class="c1">// Calculate required stacks</span>
<span class="n">let</span><span class="w"> </span><span class="n">items</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">70</span>
<span class="n">let</span><span class="w"> </span><span class="n">stacksNeeded</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">ceil</span><span class="p">(</span><span class="n">items</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">64</span><span class="p">)</span>
<span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Need {stacksNeeded} stacks&quot;</span><span class="p">)</span>

<span class="c1">// Round up for safety</span>
<span class="n">let</span><span class="w"> </span><span class="n">damage</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mf">7.2</span>
<span class="n">let</span><span class="w"> </span><span class="n">roundedDamage</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">ceil</span><span class="p">(</span><span class="n">damage</span><span class="p">)</span>
<span class="c1">// Apply 8 damage instead of 7</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Always rounds up (toward positive infinity)<br />
- ceil(3.1) = 4, ceil(-3.9) = -3<br />
- Useful for "how many X needed" calculations<br />
- Opposite of floor()</p>
<h3 id="abs">abs()</h3>
<p>Returns the absolute value of a number.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>abs(number)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>number</code> - Number to get absolute value of</p>
<p><strong>Returns:</strong> Number (absolute value, always positive)</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">//</span><span class="w"> </span><span class="n">Basic</span><span class="w"> </span><span class="n">absolute</span><span class="w"> </span><span class="n">value</span>
<span class="n">let</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">abs</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="mi">5</span>
<span class="n">let</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">abs</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="mi">5</span>
<span class="n">let</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">abs</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="mi">0</span>

<span class="o">//</span><span class="w"> </span><span class="n">Distance</span><span class="w"> </span><span class="n">calculation</span>
<span class="n">let</span><span class="w"> </span><span class="n">x1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span>
<span class="n">let</span><span class="w"> </span><span class="n">x2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">200</span>
<span class="n">let</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">abs</span><span class="p">(</span><span class="n">x2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">x1</span><span class="p">)</span>
<span class="nb">log</span><span class="p">(</span><span class="s2">&quot;Distance: {distance}&quot;</span><span class="p">)</span>

<span class="o">//</span><span class="w"> </span><span class="n">Difference</span><span class="w"> </span><span class="n">magnitude</span>
<span class="n">let</span><span class="w"> </span><span class="n">health1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">15</span>
<span class="n">let</span><span class="w"> </span><span class="n">health2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span>
<span class="n">let</span><span class="w"> </span><span class="n">difference</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">abs</span><span class="p">(</span><span class="n">health1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">health2</span><span class="p">)</span>
<span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Health difference: {difference}&quot;</span><span class="p">)</span>

<span class="o">//</span><span class="w"> </span><span class="n">Velocity</span><span class="w"> </span><span class="n">magnitude</span>
<span class="n">let</span><span class="w"> </span><span class="n">velocityX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mf">3.5</span>
<span class="n">let</span><span class="w"> </span><span class="n">velocityZ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2.8</span>
<span class="n">let</span><span class="w"> </span><span class="n">speed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">sqrt</span><span class="p">(</span><span class="nb">pow</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">velocityX</span><span class="p">),</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">pow</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">velocityZ</span><span class="p">),</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span>

<span class="o">//</span><span class="w"> </span><span class="n">Check</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">close</span>
<span class="k">func</span><span class="w"> </span><span class="n">nearlyEqual</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">tolerance</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">abs</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">tolerance</span>
<span class="p">}</span>

<span class="k">if</span><span class="w"> </span><span class="n">nearlyEqual</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Near target X coordinate&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Always returns non-negative number<br />
- abs(-x) = abs(x)<br />
- Useful for magnitude calculations<br />
- Common in distance and difference calculations</p>
<h3 id="sqrt">sqrt()</h3>
<p>Returns the square root of a number.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>sqrt(number)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>number</code> - Number to get square root of (must be non-negative)</p>
<p><strong>Returns:</strong> Number (square root)</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">//</span><span class="w"> </span><span class="n">Basic</span><span class="w"> </span><span class="n">square</span><span class="w"> </span><span class="n">root</span>
<span class="n">let</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">sqrt</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="mi">4</span>
<span class="n">let</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">sqrt</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span><span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="mi">5</span>
<span class="n">let</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="mf">1.414</span><span class="o">...</span>

<span class="o">//</span><span class="w"> </span><span class="mi">3</span><span class="n">D</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">calculation</span>
<span class="k">func</span><span class="w"> </span><span class="n">distance3D</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span><span class="w"> </span><span class="n">y1</span><span class="p">,</span><span class="w"> </span><span class="n">z1</span><span class="p">,</span><span class="w"> </span><span class="n">x2</span><span class="p">,</span><span class="w"> </span><span class="n">y2</span><span class="p">,</span><span class="w"> </span><span class="n">z2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">dx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">x1</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">dy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">y2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">y1</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">dz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">z2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">z1</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">sqrt</span><span class="p">(</span><span class="nb">pow</span><span class="p">(</span><span class="n">dx</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">pow</span><span class="p">(</span><span class="n">dy</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">pow</span><span class="p">(</span><span class="n">dz</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Pythagorean</span><span class="w"> </span><span class="n">theorem</span>
<span class="n">let</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span>
<span class="n">let</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span>
<span class="n">let</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">sqrt</span><span class="p">(</span><span class="nb">pow</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">pow</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span>
<span class="nb">log</span><span class="p">(</span><span class="s2">&quot;Hypotenuse: {c}&quot;</span><span class="p">)</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="mi">5</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Input must be non-negative (no negative square roots)<br />
- Returns decimal number<br />
- Common in distance calculations<br />
- Use with pow() for Pythagorean theorem</p>
<h3 id="pow">pow()</h3>
<p>Raises a number to a power.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>pow(base, exponent)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>base</code> - Base number<br />
- <code>exponent</code> - Power to raise to</p>
<p><strong>Returns:</strong> Number (base raised to exponent)</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// Basic powers</span>
<span class="n">let</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w">   </span><span class="c1">// 8 (2Â³)</span>
<span class="n">let</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">pow</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">   </span><span class="c1">// 25 (5Â²)</span>
<span class="n">let</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">  </span><span class="c1">// 1 (anythingâ°)</span>

<span class="c1">// Square a number</span>
<span class="n">let</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">7</span>
<span class="n">let</span><span class="w"> </span><span class="n">squared</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">pow</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">  </span><span class="c1">// 49</span>

<span class="c1">// Cube a number</span>
<span class="n">let</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">3</span>
<span class="n">let</span><span class="w"> </span><span class="n">cubed</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">pow</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w">  </span><span class="c1">// 27</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- pow(x, 0) always equals 1<br />
- pow(0, x) equals 0 for positive x<br />
- Negative exponents create fractions<br />
- Use for exponential calculations and scaling</p>
<h3 id="distance">distance()</h3>
<p>Calculates distance between two locations or coordinate pairs.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>distance(location1, location2)
distance(x1, y1, z1, x2, y2, z2)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>location1, location2</code> - Location objects<br />
- <code>x1, y1, z1</code> - First coordinate set<br />
- <code>x2, y2, z2</code> - Second coordinate set</p>
<p><strong>Returns:</strong> Number (distance in blocks)</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// Distance between locations</span>
<span class="n">let</span><span class="w"> </span><span class="n">loc1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">location</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="n">let</span><span class="w"> </span><span class="n">loc2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">location</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="n">let</span><span class="w"> </span><span class="n">dist</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">distance</span><span class="p">(</span><span class="n">loc1</span><span class="p">,</span><span class="w"> </span><span class="n">loc2</span><span class="p">)</span>
<span class="nb">log</span><span class="p">(</span><span class="s">&quot;Distance: {dist}&quot;</span><span class="p">)</span><span class="w">  </span><span class="c1">// 100</span>

<span class="c1">// Distance using coordinates</span>
<span class="n">let</span><span class="w"> </span><span class="n">dist</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">distance</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="nb">log</span><span class="p">(</span><span class="s">&quot;Distance: {dist}&quot;</span><span class="p">)</span><span class="w">  </span><span class="c1">// 100</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Returns 3D Euclidean distance<br />
- Uses Pythagorean theorem in 3D<br />
- Always returns positive number<br />
- Measured in blocks<br />
- Y coordinate affects distance</p>
<h2 id="list-functions">List Functions</h2>
<h3 id="len">len()</h3>
<p>Returns the length of a list or string.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>len(list)
len(string)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>list</code> - List to get length of<br />
- <code>string</code> - String to get length of</p>
<p><strong>Returns:</strong> Number (length)</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// List length</span>
<span class="n">let</span><span class="w"> </span><span class="n">items</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;sword&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bow&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;pickaxe&quot;</span><span class="p">]</span>
<span class="n">let</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span><span class="w">  </span><span class="c1">// 3</span>

<span class="c1">// String length</span>
<span class="n">let</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;Hello World&quot;</span>
<span class="n">let</span><span class="w"> </span><span class="nb">length</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="w">  </span><span class="c1">// 11</span>

<span class="c1">// Empty list</span>
<span class="n">let</span><span class="w"> </span><span class="n">empty</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[]</span>
<span class="n">let</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">empty</span><span class="p">)</span><span class="w">  </span><span class="c1">// 0</span>

<span class="c1">// Check if list has items</span>
<span class="n">let</span><span class="w"> </span><span class="n">players</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">get_online_players</span><span class="p">()</span>
<span class="k">if</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">players</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nb">log</span><span class="p">(</span><span class="s">&quot;Server has players&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Works with both lists and strings<br />
- Returns 0 for empty lists/strings<br />
- Use for bounds checking<br />
- Common in loops and validation</p>
<h3 id="append">append()</h3>
<p>Adds an element to the end of a list.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>append(list, item)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>list</code> - List to append to<br />
- <code>item</code> - Item to add</p>
<p><strong>Returns:</strong> <code>true</code> on success</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// Add to list</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">items</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;sword&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bow&quot;</span><span class="p">]</span>
<span class="nx">append</span><span class="p">(</span><span class="nx">items</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;pickaxe&quot;</span><span class="p">)</span>
<span class="c1">// items is now [&quot;sword&quot;, &quot;bow&quot;, &quot;pickaxe&quot;]</span>

<span class="c1">// Build list dynamically</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">players</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[]</span>
<span class="nx">append</span><span class="p">(</span><span class="nx">players</span><span class="p">,</span><span class="w"> </span><span class="nx">player</span><span class="p">)</span>
<span class="nx">append</span><span class="p">(</span><span class="nx">players</span><span class="p">,</span><span class="w"> </span><span class="nx">get_player</span><span class="p">(</span><span class="s">&quot;Steve&quot;</span><span class="p">))</span>

<span class="c1">// Collect block types</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">brokenBlocks</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[]</span>
<span class="nx">OnEvent</span><span class="p">(</span><span class="nx">BlockBreak</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">append</span><span class="p">(</span><span class="nx">brokenBlocks</span><span class="p">,</span><span class="w"> </span><span class="nx">block</span><span class="p">.</span><span class="k">type</span><span class="p">)</span>
<span class="w">    </span><span class="nx">log</span><span class="p">(</span><span class="s">&quot;Broken {len(brokenBlocks)} blocks&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Modifies list in place<br />
- Adds to end of list<br />
- Does not return new list<br />
- Can append any type of value<br />
- Use to build lists dynamically</p>
<h3 id="remove">remove()</h3>
<p>Removes an element from a list at a specific index.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>remove(list, index)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>list</code> - List to remove from<br />
- <code>index</code> - Index of element to remove (0-based)</p>
<p><strong>Returns:</strong> <code>true</code> on success</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// Remove by index</span>
<span class="n">let</span><span class="w"> </span><span class="n">items</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;sword&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bow&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;pickaxe&quot;</span><span class="p">]</span>
<span class="n">remove</span><span class="p">(</span><span class="n">items</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="c1">// items is now [&quot;sword&quot;, &quot;pickaxe&quot;]</span>

<span class="c1">// Remove first element</span>
<span class="n">let</span><span class="w"> </span><span class="n">items</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;b&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;c&quot;</span><span class="p">]</span>
<span class="n">remove</span><span class="p">(</span><span class="n">items</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="c1">// items is now [&quot;b&quot;, &quot;c&quot;]</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Modifies list in place<br />
- Index must be valid (0 to len-1)<br />
- Throws error if index out of bounds<br />
- Elements after removed index shift down<br />
- Use with caution in loops</p>
<h3 id="contains">contains()</h3>
<p>Checks if a list contains an element or string contains substring.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>contains(list, item)
contains(string, substring)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>list</code> - List to search<br />
- <code>item</code> - Item to find<br />
- <code>string</code> - String to search<br />
- <code>substring</code> - Substring to find</p>
<p><strong>Returns:</strong> Boolean (<code>true</code> if found, <code>false</code> otherwise)</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// Check list</span>
<span class="n">let</span><span class="w"> </span><span class="n">items</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;sword&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bow&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;pickaxe&quot;</span><span class="p">]</span>
<span class="k">if</span><span class="w"> </span><span class="n">contains</span><span class="p">(</span><span class="n">items</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;sword&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nb">log</span><span class="p">(</span><span class="s">&quot;Has sword&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Check string</span>
<span class="n">let</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;Hello World&quot;</span>
<span class="k">if</span><span class="w"> </span><span class="n">contains</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;World&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nb">log</span><span class="p">(</span><span class="s">&quot;Found World&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Player in list check</span>
<span class="n">let</span><span class="w"> </span><span class="n">vipPlayers</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;Alice&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Bob&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Charlie&quot;</span><span class="p">]</span>
<span class="k">if</span><span class="w"> </span><span class="n">contains</span><span class="p">(</span><span class="n">vipPlayers</span><span class="p">,</span><span class="w"> </span><span class="n">player</span><span class="p">.</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Welcome VIP!&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Works with lists and strings<br />
- Returns boolean value<br />
- Case-sensitive for strings<br />
- Exact match required<br />
- Use for membership testing</p>
<h3 id="range">range()</h3>
<p>Creates a list of numbers in a range.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code><span class="nv">range</span><span class="ss">(</span><span class="nv">start</span>,<span class="w"> </span><span class="k">end</span><span class="ss">)</span>
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>start</code> - Starting number (inclusive)<br />
- <code>end</code> - Ending number (exclusive)</p>
<p><strong>Returns:</strong> List of numbers</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// Basic range</span>
<span class="n">let</span><span class="w"> </span><span class="n">nums</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
<span class="c1">// [0, 1, 2, 3, 4]</span>

<span class="c1">// Range from 1</span>
<span class="n">let</span><span class="w"> </span><span class="n">nums</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span>
<span class="c1">// [1, 2, 3, 4, 5]</span>

<span class="c1">// Negative range</span>
<span class="n">let</span><span class="w"> </span><span class="n">nums</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
<span class="c1">// [-3, -2, -1, 0, 1, 2]</span>

<span class="c1">// Loop with range</span>
<span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nb">log</span><span class="p">(</span><span class="s">&quot;Iteration {i}&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- End value is exclusive (not included)<br />
- Can go forward or backward<br />
- Returns list of integers<br />
- Common in for loops<br />
- Useful for grid/pattern generation</p>
<h3 id="random_choice">random_choice()</h3>
<p>Selects a random element from a list.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code><span class="nx">random_choice</span><span class="p">(</span><span class="nx">list</span><span class="p">)</span>
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>list</code> - List to choose from (must not be empty)</p>
<p><strong>Returns:</strong> Random element from list</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// Random item</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">items</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;sword&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bow&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;pickaxe&quot;</span><span class="p">]</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">chosen</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">random_choice</span><span class="p">(</span><span class="nx">items</span><span class="p">)</span>
<span class="nx">log</span><span class="p">(</span><span class="s">&quot;Chosen: {chosen}&quot;</span><span class="p">)</span>

<span class="c1">// Random mob spawn</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">mobs</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;zombie&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;skeleton&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;creeper&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;spider&quot;</span><span class="p">]</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">mob</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">random_choice</span><span class="p">(</span><span class="nx">mobs</span><span class="p">)</span>
<span class="nx">spawn_entity</span><span class="p">(</span><span class="nx">mob</span><span class="p">,</span><span class="w"> </span><span class="nx">player</span><span class="p">.</span><span class="nx">location</span><span class="p">)</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Throws error if list is empty<br />
- Each element has equal probability<br />
- Does not remove element from list<br />
- Returns element, not index<br />
- Use for random selection mechanics</p>
<h2 id="string-functions">String Functions</h2>
<h3 id="split">split()</h3>
<p>Splits a string into a list using a delimiter.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>split(string, delimiter)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>string</code> - String to split<br />
- <code>delimiter</code> - Delimiter to split on</p>
<p><strong>Returns:</strong> List of strings</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// Basic split</span>
<span class="n">let</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;apple,banana,cherry&quot;</span>
<span class="n">let</span><span class="w"> </span><span class="n">fruits</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">split</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;,&quot;</span><span class="p">)</span>
<span class="c1">// [&quot;apple&quot;, &quot;banana&quot;, &quot;cherry&quot;]</span>

<span class="c1">// Split by space</span>
<span class="n">let</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;Hello world test&quot;</span>
<span class="n">let</span><span class="w"> </span><span class="n">words</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">split</span><span class="p">(</span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">)</span>
<span class="c1">// [&quot;Hello&quot;, &quot;world&quot;, &quot;test&quot;]</span>

<span class="c1">// Split coordinates</span>
<span class="n">let</span><span class="w"> </span><span class="n">coord</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;100,64,200&quot;</span>
<span class="n">let</span><span class="w"> </span><span class="n">parts</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">split</span><span class="p">(</span><span class="n">coord</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;,&quot;</span><span class="p">)</span>
<span class="n">let</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">to_number</span><span class="p">(</span><span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">let</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">to_number</span><span class="p">(</span><span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">let</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">to_number</span><span class="p">(</span><span class="n">parts</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

<span class="c1">// Parse command arguments</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">chat</span><span class="p">.</span><span class="n">message</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">contains</span><span class="p">(</span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;!tp&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">parts</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">split</span><span class="p">(</span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">)</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">to_number</span><span class="p">(</span><span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">to_number</span><span class="p">(</span><span class="n">parts</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">to_number</span><span class="p">(</span><span class="n">parts</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<span class="w">            </span><span class="n">teleport</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Returns list of strings<br />
- Empty string returns list with one empty element<br />
- Delimiter can be any string<br />
- Delimiter is not included in results<br />
- Common for parsing user input</p>
<h3 id="join">join()</h3>
<p>Joins a list of values into a string with a delimiter.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>join(list, delimiter)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>list</code> - List to join<br />
- <code>delimiter</code> - Delimiter to join with</p>
<p><strong>Returns:</strong> String (joined result)</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// Basic join</span>
<span class="n">let</span><span class="w"> </span><span class="n">items</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;sword&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bow&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;pickaxe&quot;</span><span class="p">]</span>
<span class="n">let</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">join</span><span class="p">(</span><span class="n">items</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="p">)</span>
<span class="c1">// &quot;sword, bow, pickaxe&quot;</span>

<span class="c1">// Join with space</span>
<span class="n">let</span><span class="w"> </span><span class="n">words</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;Hello&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;World&quot;</span><span class="p">]</span>
<span class="n">let</span><span class="w"> </span><span class="n">sentence</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">join</span><span class="p">(</span><span class="n">words</span><span class="p">,</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">)</span>
<span class="c1">// &quot;Hello World&quot;</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Converts all elements to strings<br />
- Empty list returns empty string<br />
- Delimiter appears between elements only<br />
- Opposite of split()<br />
- Useful for formatting output</p>
<h2 id="type-conversion">Type Conversion</h2>
<h3 id="to_string">to_string()</h3>
<p>Converts any value to a string representation.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>to_string(value)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>value</code> - Value to convert</p>
<p><strong>Returns:</strong> String representation</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// Number to string</span>
<span class="n">let</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">42</span>
<span class="n">let</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">to_string</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="c1">// &quot;42&quot;</span>

<span class="c1">// Boolean to string</span>
<span class="n">let</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">true</span>
<span class="n">let</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">to_string</span><span class="p">(</span><span class="n">flag</span><span class="p">)</span>
<span class="c1">// &quot;true&quot;</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Works with any value type<br />
- Numbers formatted with minimal decimals<br />
- Booleans become "true" or "false"<br />
- Lists and objects show structure<br />
- Useful for formatting and debugging</p>
<h3 id="to_number">to_number()</h3>
<p>Converts a string or boolean to a number.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>to_number(value)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>value</code> - String or boolean to convert</p>
<p><strong>Returns:</strong> Number</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// String to number</span>
<span class="n">let</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;42&quot;</span>
<span class="n">let</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">to_number</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="c1">// 42</span>

<span class="c1">// Decimal string</span>
<span class="n">let</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;3.14&quot;</span>
<span class="n">let</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">to_number</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="c1">// 3.14</span>

<span class="c1">// Boolean to number</span>
<span class="n">let</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">true</span>
<span class="n">let</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">to_number</span><span class="p">(</span><span class="n">flag</span><span class="p">)</span>
<span class="c1">// 1 (true=1, false=0)</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Throws error if string is not a valid number<br />
- Booleans: true=1, false=0<br />
- Decimal strings supported<br />
- Leading/trailing spaces ignored<br />
- Invalid strings cause runtime error</p>
<h3 id="to_boolean">to_boolean()</h3>
<p>Converts any value to a boolean.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>to_boolean(value)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>value</code> - Value to convert</p>
<p><strong>Returns:</strong> Boolean</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// Number to boolean</span>
<span class="n">let</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">5</span>
<span class="n">let</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">to_boolean</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="c1">// true (non-zero = true)</span>

<span class="n">let</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">0</span>
<span class="n">let</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">to_boolean</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="c1">// false (zero = false)</span>

<span class="c1">// String to boolean</span>
<span class="n">let</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;hello&quot;</span>
<span class="n">let</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">to_boolean</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="c1">// true (non-empty = true)</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Follows JavaScript truthiness rules<br />
- 0, null, empty string = false<br />
- Everything else = true<br />
- Useful for conditional checks<br />
- Explicit conversion for clarity</p>
<h3 id="type_of">type_of()</h3>
<p>Returns the type of a value as a string.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code><span class="nx">type_of</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span>
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>value</code> - Value to check type of</p>
<p><strong>Returns:</strong> String (type name in lowercase)</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// Check number</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">num</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">42</span>
<span class="kd">let</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">type_of</span><span class="p">(</span><span class="nx">num</span><span class="p">)</span>
<span class="c1">// &quot;number&quot;</span>

<span class="c1">// Check string</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">text</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;hello&quot;</span>
<span class="kd">let</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">type_of</span><span class="p">(</span><span class="nx">text</span><span class="p">)</span>
<span class="c1">// &quot;string&quot;</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Returns lowercase type name<br />
- Common types: "number", "string", "boolean", "list", "null"<br />
- Special types: "player", "location", "item", "entity", "world"<br />
- Useful for validation and debugging<br />
- Runtime type checking</p>
<h2 id="advanced-functions">Advanced Functions</h2>
<h3 id="log">log()</h3>
<p>Logs a message to the server console.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>log(message)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>message</code> - Message to log</p>
<p><strong>Returns:</strong> <code>true</code> on success</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">//</span><span class="w"> </span><span class="n">Basic</span><span class="w"> </span><span class="nb">log</span>
<span class="nb">log</span><span class="p">(</span><span class="s2">&quot;Script started&quot;</span><span class="p">)</span>

<span class="o">//</span><span class="w"> </span><span class="n">Log</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">variables</span>
<span class="n">let</span><span class="w"> </span><span class="n">playerCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span>
<span class="nb">log</span><span class="p">(</span><span class="s2">&quot;Players online: {playerCount}&quot;</span><span class="p">)</span>

<span class="o">//</span><span class="w"> </span><span class="n">Debug</span><span class="w"> </span><span class="n">logging</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerJoin</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nb">log</span><span class="p">(</span><span class="s2">&quot;Player joined: {player.name}&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Outputs to server console, not player chat<br />
- Shows scope name in output<br />
- Useful for debugging<br />
- No performance impact when not debugging<br />
- Supports string interpolation</p>
<h3 id="trigger_custom">trigger_custom()</h3>
<p>Triggers a custom event that can be handled by event listeners.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>trigger_custom(event_name, data)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>event_name</code> - Name of custom event (string)<br />
- <code>data</code> - Map or JSON string containing event data</p>
<p><strong>Returns:</strong> <code>true</code> on success</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">//</span><span class="w"> </span><span class="n">Basic</span><span class="w"> </span><span class="n">custom</span><span class="w"> </span><span class="n">event</span>
<span class="n">trigger_custom</span><span class="p">(</span><span class="s2">&quot;MyEvent&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">message</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Hello&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">value</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span>
<span class="p">})</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">MyEvent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nb">log</span><span class="p">(</span><span class="s2">&quot;Custom event triggered!&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="nb">log</span><span class="p">(</span><span class="s2">&quot;Message: {event.message}&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="nb">log</span><span class="p">(</span><span class="s2">&quot;Value: {event.value}&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Quest</span><span class="w"> </span><span class="n">completion</span><span class="w"> </span><span class="n">event</span>
<span class="k">func</span><span class="w"> </span><span class="n">completeQuest</span><span class="p">(</span><span class="n">questName</span><span class="p">,</span><span class="w"> </span><span class="n">reward</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">trigger_custom</span><span class="p">(</span><span class="s2">&quot;QuestComplete&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">quest</span><span class="p">:</span><span class="w"> </span><span class="n">questName</span><span class="p">,</span>
<span class="w">        </span><span class="n">reward</span><span class="p">:</span><span class="w"> </span><span class="n">reward</span><span class="p">,</span>
<span class="w">        </span><span class="n">player</span><span class="p">:</span><span class="w"> </span><span class="n">player</span><span class="o">.</span><span class="n">name</span>
<span class="w">    </span><span class="p">})</span>
<span class="p">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">QuestComplete</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">broadcast</span><span class="p">(</span><span class="s2">&quot;{event.player} completed {event.quest}!&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Give</span><span class="w"> </span><span class="n">reward</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Event name is case-sensitive<br />
- Data must be map or JSON string<br />
- Handlers registered with OnEvent()<br />
- Runs asynchronously<br />
- Useful for modular event systems</p>
<h3 id="get_player">get_player()</h3>
<p>Gets a player object by username.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>get_player(username)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>username</code> - Player's username (string)</p>
<p><strong>Returns:</strong> Player object, or <code>null</code> if not found</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// Get player by name</span>
<span class="n">let</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">get_player</span><span class="p">(</span><span class="s">&quot;Steve&quot;</span><span class="p">)</span>
<span class="k">if</span><span class="w"> </span><span class="n">target</span><span class="w"> </span>!<span class="p">=</span><span class="w"> </span><span class="nb">null</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">target</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Hello!&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Teleport to player</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">contains</span><span class="p">(</span><span class="n">chat</span><span class="p">.</span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;!tp&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">parts</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">split</span><span class="p">(</span><span class="n">chat</span><span class="p">.</span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">)</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">targetName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">get_player</span><span class="p">(</span><span class="n">targetName</span><span class="p">)</span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">target</span><span class="w"> </span>!<span class="p">=</span><span class="w"> </span><span class="nb">null</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">teleport</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="n">target</span><span class="p">.</span><span class="n">location</span><span class="p">)</span>
<span class="w">                </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Teleported to {targetName}&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Player not found&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Returns <code>null</code> if player not found or offline<br />
- Case-sensitive username<br />
- Only finds online players<br />
- Check for null before using result<br />
- Useful for player-to-player interactions</p>
<h3 id="get_online_players">get_online_players()</h3>
<p>Gets a list of all online players.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>get_online_players()
</code></pre></div>

<p><strong>Parameters:</strong> None</p>
<p><strong>Returns:</strong> List of Player objects</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// Get all players</span>
<span class="n">let</span><span class="w"> </span><span class="n">players</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">get_online_players</span><span class="p">()</span>
<span class="nb">log</span><span class="p">(</span><span class="s">&quot;Online players: {len(players)}&quot;</span><span class="p">)</span>

<span class="c1">// Message all players</span>
<span class="n">let</span><span class="w"> </span><span class="n">players</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">get_online_players</span><span class="p">()</span>
<span class="k">for</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">players</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Server announcement!&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Count players</span>
<span class="n">let</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">get_online_players</span><span class="p">())</span>
<span class="n">broadcast</span><span class="p">(</span><span class="s">&quot;Players online: {count}&quot;</span><span class="p">)</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Returns all currently online players<br />
- Returns empty list if no players online<br />
- List is snapshot at call time<br />
- Use to iterate over all players<br />
- Common for server-wide operations</p>
<h2 id="examples">Examples</h2>
<h3 id="math-operations">Math Operations</h3>
<p><strong>Calculator system:</strong></p>
<div class="highlight"><pre><span></span><code>OnEvent(PlayerChat) {
    let msg = chat.message

    if contains(msg, &quot;!calc&quot;) {
        let parts = split(msg, &quot; &quot;)
        if len(parts) != 4 {
            sendmessage(player, &quot;Usage: !calc &lt;num1&gt; &lt;op&gt; &lt;num2&gt;&quot;)
            return
        }

        let num1 = to_number(parts[1])
        let op = parts[2]
        let num2 = to_number(parts[3])
        let result = 0

        if op == &quot;+&quot; {
            result = num1 + num2
        } else if op == &quot;-&quot; {
            result = num1 - num2
        } else if op == &quot;*&quot; {
            result = num1 * num2
        } else if op == &quot;/&quot; {
            if num2 == 0 {
                sendmessage(player, &quot;Cannot divide by zero!&quot;)
                return
            }
            result = num1 / num2
        } else if op == &quot;^&quot; {
            result = pow(num1, num2)
        } else {
            sendmessage(player, &quot;Unknown operator: {op}&quot;)
            return
        }

        sendmessage(player, &quot;{num1} {op} {num2} = {result}&quot;)
    }
}
</code></pre></div>

<p><strong>Advanced math functions:</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">//</span><span class="w"> </span><span class="n">Pythagorean</span><span class="w"> </span><span class="n">distance</span>
<span class="k">func</span><span class="w"> </span><span class="n">distance2D</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span><span class="w"> </span><span class="n">y1</span><span class="p">,</span><span class="w"> </span><span class="n">x2</span><span class="p">,</span><span class="w"> </span><span class="n">y2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">dx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">x1</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">dy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">y2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">y1</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">sqrt</span><span class="p">(</span><span class="nb">pow</span><span class="p">(</span><span class="n">dx</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">pow</span><span class="p">(</span><span class="n">dy</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Circle</span><span class="w"> </span><span class="n">generation</span>
<span class="k">func</span><span class="w"> </span><span class="n">generateCircle</span><span class="p">(</span><span class="n">centerX</span><span class="p">,</span><span class="w"> </span><span class="n">centerZ</span><span class="p">,</span><span class="w"> </span><span class="n">radius</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">points</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">angle</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">360</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">radians</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">angle</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.0174533</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">centerX</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">radius</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nb">cos</span><span class="p">(</span><span class="n">radians</span><span class="p">))</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">centerZ</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">radius</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nb">sin</span><span class="p">(</span><span class="n">radians</span><span class="p">))</span>

<span class="w">        </span><span class="n">append</span><span class="p">(</span><span class="n">points</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="w"> </span><span class="n">z</span><span class="p">:</span><span class="w"> </span><span class="nb">round</span><span class="p">(</span><span class="n">z</span><span class="p">)})</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">points</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Clamp</span><span class="w"> </span><span class="n">value</span>
<span class="k">func</span><span class="w"> </span><span class="nb">clamp</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="nb">min</span><span class="p">,</span><span class="w"> </span><span class="nb">max</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nb">min</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">min</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nb">max</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">max</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">value</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Lerp</span><span class="w"> </span><span class="p">(</span><span class="n">linear</span><span class="w"> </span><span class="n">interpolation</span><span class="p">)</span>
<span class="k">func</span><span class="w"> </span><span class="nb">lerp</span><span class="p">(</span><span class="n">start</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="p">,</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">end</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">start</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nb">clamp</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Percentage</span><span class="w"> </span><span class="n">calculation</span>
<span class="k">func</span><span class="w"> </span><span class="n">calculatePercent</span><span class="p">(</span><span class="n">current</span><span class="p">,</span><span class="w"> </span><span class="nb">max</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nb">max</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nb">max</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Average</span>
<span class="k">func</span><span class="w"> </span><span class="n">average</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">num</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="list-manipulation">List Manipulation</h3>
<p><strong>Inventory system:</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">let</span><span class="w"> </span><span class="n">inventory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[]</span>

<span class="n">func</span><span class="w"> </span><span class="n">addItem</span><span class="p">(</span><span class="n">item</span><span class="p">,</span><span class="w"> </span><span class="n">amount</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="k">Check</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="ow">exists</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">inventory</span><span class="p">))</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">inventory</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="n">item</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="n">inventory</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="n">amount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventory</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="n">amount</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">amount</span>
<span class="w">            </span><span class="k">return</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="k">Add</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">item</span>
<span class="w">    </span><span class="n">append</span><span class="p">(</span><span class="n">inventory</span><span class="p">,</span><span class="w"> </span><span class="err">{</span><span class="nl">item</span><span class="p">:</span><span class="w"> </span><span class="n">item</span><span class="p">,</span><span class="w"> </span><span class="nl">amount</span><span class="p">:</span><span class="w"> </span><span class="n">amount</span><span class="err">}</span><span class="p">)</span>
<span class="err">}</span>

<span class="n">func</span><span class="w"> </span><span class="n">removeItem</span><span class="p">(</span><span class="n">item</span><span class="p">,</span><span class="w"> </span><span class="n">amount</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">inventory</span><span class="p">))</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">inventory</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="n">item</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="n">inventory</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="n">amount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventory</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="n">amount</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">amount</span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">inventory</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="n">amount</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="err">{</span>
<span class="w">                </span><span class="n">remove</span><span class="p">(</span><span class="n">inventory</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">)</span>
<span class="w">            </span><span class="err">}</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">true</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">false</span>
<span class="err">}</span>

<span class="n">func</span><span class="w"> </span><span class="n">hasItem</span><span class="p">(</span><span class="n">item</span><span class="p">,</span><span class="w"> </span><span class="n">amount</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">inventory</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">entry</span><span class="p">.</span><span class="n">item</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">entry</span><span class="p">.</span><span class="n">amount</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">amount</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">false</span>
<span class="err">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="p">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">&quot;!inventory&quot;</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">inventory</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;Inventory is empty&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="err">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;=== Inventory ===&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">inventory</span><span class="w"> </span><span class="err">{</span>
<span class="w">                </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;{entry.item}: {entry.amount}&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="err">}</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>
</code></pre></div>

<p><strong>Queue system:</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">let</span><span class="w"> </span><span class="n">queue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>

<span class="k">func</span><span class="w"> </span><span class="n">enqueue</span><span class="p">(</span><span class="n">item</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">append</span><span class="p">(</span><span class="n">queue</span><span class="p">,</span><span class="w"> </span><span class="n">item</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span><span class="w"> </span><span class="n">dequeue</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">queue</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">queue</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="w">        </span><span class="n">remove</span><span class="p">(</span><span class="n">queue</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">item</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb nb-Type">null</span>
<span class="p">}</span>

<span class="k">func</span><span class="w"> </span><span class="n">peek</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">queue</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">queue</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb nb-Type">null</span>
<span class="p">}</span>

<span class="k">func</span><span class="w"> </span><span class="n">queueSize</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">queue</span><span class="p">)</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Usage</span>
<span class="n">enqueue</span><span class="p">(</span><span class="s2">&quot;task1&quot;</span><span class="p">)</span>
<span class="n">enqueue</span><span class="p">(</span><span class="s2">&quot;task2&quot;</span><span class="p">)</span>
<span class="n">enqueue</span><span class="p">(</span><span class="s2">&quot;task3&quot;</span><span class="p">)</span>

<span class="n">let</span><span class="w"> </span><span class="n">task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dequeue</span><span class="p">()</span>
<span class="nb">log</span><span class="p">(</span><span class="s2">&quot;Processing: {task}&quot;</span><span class="p">)</span>
</code></pre></div>

<p><strong>Sorting (bubble sort):</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">func</span><span class="w"> </span><span class="n">sortNumbers</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">numbers</span><span class="o">[</span><span class="n">j</span><span class="o">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">numbers</span><span class="o">[</span><span class="n">j + 1</span><span class="o">]</span><span class="w"> </span><span class="err">{</span>
<span class="w">                </span><span class="o">//</span><span class="w"> </span><span class="n">Swap</span>
<span class="w">                </span><span class="n">let</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">numbers</span><span class="o">[</span><span class="n">j</span><span class="o">]</span>
<span class="w">                </span><span class="n">numbers</span><span class="o">[</span><span class="n">j</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">numbers</span><span class="o">[</span><span class="n">j + 1</span><span class="o">]</span>
<span class="w">                </span><span class="n">numbers</span><span class="o">[</span><span class="n">j + 1</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span>
<span class="w">            </span><span class="err">}</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">numbers</span>
<span class="err">}</span>

<span class="n">let</span><span class="w"> </span><span class="n">nums</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">5, 2, 8, 1, 9</span><span class="o">]</span>
<span class="n">let</span><span class="w"> </span><span class="n">sorted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sortNumbers</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
<span class="nf">log</span><span class="p">(</span><span class="k">join</span><span class="p">(</span><span class="n">sorted</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;, &quot;</span><span class="p">))</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="ss">&quot;1, 2, 5, 8, 9&quot;</span>
</code></pre></div>

<h3 id="string-processing">String Processing</h3>
<p><strong>Command parser:</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">func</span><span class="w"> </span><span class="n">parseCommand</span><span class="p">(</span><span class="n">message</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="err">!</span><span class="k">contains</span><span class="p">(</span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;!&quot;</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">null</span>
<span class="w">    </span><span class="err">}</span>

<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">parts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">split</span><span class="p">(</span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot; &quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parts</span><span class="o">[</span><span class="n">0</span><span class="o">]</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">args</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[]</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">parts</span><span class="p">))</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">append</span><span class="p">(</span><span class="n">args</span><span class="p">,</span><span class="w"> </span><span class="n">parts</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">)</span>
<span class="w">    </span><span class="err">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="err">{</span><span class="nl">command</span><span class="p">:</span><span class="w"> </span><span class="n">command</span><span class="p">,</span><span class="w"> </span><span class="nl">args</span><span class="p">:</span><span class="w"> </span><span class="n">args</span><span class="err">}</span>
<span class="err">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">parsed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parseCommand</span><span class="p">(</span><span class="n">chat</span><span class="p">.</span><span class="n">message</span><span class="p">)</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">parsed</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="k">return</span>
<span class="w">    </span><span class="err">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">parsed</span><span class="p">.</span><span class="n">command</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">&quot;!tp&quot;</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">parsed</span><span class="p">.</span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">to_number</span><span class="p">(</span><span class="n">parsed</span><span class="p">.</span><span class="n">args</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="p">)</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">to_number</span><span class="p">(</span><span class="n">parsed</span><span class="p">.</span><span class="n">args</span><span class="o">[</span><span class="n">1</span><span class="o">]</span><span class="p">)</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">to_number</span><span class="p">(</span><span class="n">parsed</span><span class="p">.</span><span class="n">args</span><span class="o">[</span><span class="n">2</span><span class="o">]</span><span class="p">)</span>
<span class="w">            </span><span class="n">teleport</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">)</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">parsed</span><span class="p">.</span><span class="n">command</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">&quot;!give&quot;</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">parsed</span><span class="p">.</span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parsed</span><span class="p">.</span><span class="n">args</span><span class="o">[</span><span class="n">0</span><span class="o">]</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">amount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">to_number</span><span class="p">(</span><span class="n">parsed</span><span class="p">.</span><span class="n">args</span><span class="o">[</span><span class="n">1</span><span class="o">]</span><span class="p">)</span>
<span class="w">            </span><span class="n">give</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="n">item</span><span class="p">,</span><span class="w"> </span><span class="n">amount</span><span class="p">)</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>
</code></pre></div>

<p><strong>Text formatting:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">func</span><span class="w"> </span><span class="n">formatPlayerStats</span><span class="p">(</span><span class="n">player</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">lines</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>

<span class="w">    </span><span class="n">append</span><span class="p">(</span><span class="n">lines</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;=== Player Stats ===&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">append</span><span class="p">(</span><span class="n">lines</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Name: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">player</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="w">    </span><span class="n">append</span><span class="p">(</span><span class="n">lines</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Health: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">to_string</span><span class="p">(</span><span class="n">get_health</span><span class="p">(</span><span class="n">player</span><span class="p">)))</span>
<span class="w">    </span><span class="n">append</span><span class="p">(</span><span class="n">lines</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Hunger: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">to_string</span><span class="p">(</span><span class="n">get_hunger</span><span class="p">(</span><span class="n">player</span><span class="p">)))</span>
<span class="w">    </span><span class="n">append</span><span class="p">(</span><span class="n">lines</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Gamemode: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">get_gamemode</span><span class="p">(</span><span class="n">player</span><span class="p">))</span>
<span class="w">    </span><span class="n">append</span><span class="p">(</span><span class="n">lines</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;==================&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="o">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;!stats&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">stats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">formatPlayerStats</span><span class="p">(</span><span class="n">player</span><span class="p">)</span>
<span class="w">        </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="n">stats</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Word</span><span class="w"> </span><span class="n">counter</span>
<span class="k">func</span><span class="w"> </span><span class="n">countWords</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">words</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">split</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Character</span><span class="w"> </span><span class="n">counter</span>
<span class="k">func</span><span class="w"> </span><span class="n">countCharacters</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Replace</span><span class="w"> </span><span class="n">text</span>
<span class="k">func</span><span class="w"> </span><span class="n">replaceAll</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="n">search</span><span class="p">,</span><span class="w"> </span><span class="n">replacement</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">parts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">split</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="n">search</span><span class="p">)</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">join</span><span class="p">(</span><span class="n">parts</span><span class="p">,</span><span class="w"> </span><span class="n">replacement</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">let</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Hello World World&quot;</span>
<span class="n">let</span><span class="w"> </span><span class="n">replaced</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">replaceAll</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;World&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Universe&quot;</span><span class="p">)</span>
<span class="o">//</span><span class="w"> </span><span class="s2">&quot;Hello Universe Universe&quot;</span>

<span class="o">//</span><span class="w"> </span><span class="n">Capitalize</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">letter</span>
<span class="k">func</span><span class="w"> </span><span class="n">capitalize</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">text</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Would</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">substring</span><span class="w"> </span><span class="n">functions</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">text</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Chat filter:</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">let</span><span class="w"> </span><span class="n">bannedWords</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">&quot;bad&quot;, &quot;word&quot;, &quot;naughty&quot;</span><span class="o">]</span>

<span class="n">func</span><span class="w"> </span><span class="n">containsBannedWord</span><span class="p">(</span><span class="n">message</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">lowerMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">to_string</span><span class="p">(</span><span class="n">message</span><span class="p">)</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">Would</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">toLowerCase</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">word</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">bannedWords</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="k">contains</span><span class="p">(</span><span class="n">lowerMessage</span><span class="p">,</span><span class="w"> </span><span class="n">word</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">true</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">false</span>
<span class="err">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">containsBannedWord</span><span class="p">(</span><span class="n">chat</span><span class="p">.</span><span class="n">message</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">cancel</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
<span class="w">        </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;Please watch your language!&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="nf">log</span><span class="p">(</span><span class="ss">&quot;Blocked message from {player.name}&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Spam</span><span class="w"> </span><span class="n">detection</span>
<span class="n">let</span><span class="w"> </span><span class="n">messageCounts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{}</span>
<span class="n">let</span><span class="w"> </span><span class="n">spamThreshold</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">player</span><span class="p">.</span><span class="n">name</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">messageCounts</span><span class="o">[</span><span class="n">name</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">messageCounts</span><span class="o">[</span><span class="n">name</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="err">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">messageCounts</span><span class="o">[</span><span class="n">name</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">messageCounts</span><span class="o">[</span><span class="n">name</span><span class="o">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="err">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">messageCounts</span><span class="o">[</span><span class="n">name</span><span class="o">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">spamThreshold</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">cancel</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
<span class="w">        </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;Please slow down!&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>
</code></pre></div>

<h3 id="player-queries">Player Queries</h3>
<p><strong>Player finder:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">func</span><span class="w"> </span><span class="n">findPlayersByName</span><span class="p">(</span><span class="n">partial</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">players</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_online_players</span><span class="p">()</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">matches</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">players</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">contains</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">partial</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">append</span><span class="p">(</span><span class="n">matches</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">matches</span>
<span class="p">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">contains</span><span class="p">(</span><span class="n">chat</span><span class="o">.</span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;!find&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">parts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">split</span><span class="p">(</span><span class="n">chat</span><span class="o">.</span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">search</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">matches</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findPlayersByName</span><span class="p">(</span><span class="n">search</span><span class="p">)</span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;No players found&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Found {len(matches)} players:&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="k">for</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">matches</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;- {p.name}&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Player statistics:</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">let</span><span class="w"> </span><span class="n">playerStats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{}</span>

<span class="n">func</span><span class="w"> </span><span class="n">initPlayerStats</span><span class="p">(</span><span class="n">playerName</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">playerStats</span><span class="o">[</span><span class="n">playerName</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="nl">blocksPlaced</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nl">blocksBroken</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nl">deaths</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nl">kills</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nl">playTime</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerJoin</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">playerStats</span><span class="o">[</span><span class="n">player.name</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">initPlayerStats</span><span class="p">(</span><span class="n">player</span><span class="p">.</span><span class="n">name</span><span class="p">)</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">BlockPlace</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">stats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">playerStats</span><span class="o">[</span><span class="n">player.name</span><span class="o">]</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">stats</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">stats</span><span class="p">.</span><span class="n">blocksPlaced</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stats</span><span class="p">.</span><span class="n">blocksPlaced</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">BlockBreak</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">stats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">playerStats</span><span class="o">[</span><span class="n">player.name</span><span class="o">]</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">stats</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">stats</span><span class="p">.</span><span class="n">blocksBroken</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stats</span><span class="p">.</span><span class="n">blocksBroken</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerDeath</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">stats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">playerStats</span><span class="o">[</span><span class="n">player.name</span><span class="o">]</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">stats</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">stats</span><span class="p">.</span><span class="n">deaths</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stats</span><span class="p">.</span><span class="n">deaths</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="err">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">death</span><span class="p">.</span><span class="n">killer</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">killerStats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">playerStats</span><span class="o">[</span><span class="n">death.killer.name</span><span class="o">]</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">killerStats</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="n">killerStats</span><span class="p">.</span><span class="n">kills</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">killerStats</span><span class="p">.</span><span class="n">kills</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="p">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">&quot;!stats&quot;</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">stats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">playerStats</span><span class="o">[</span><span class="n">player.name</span><span class="o">]</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">stats</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;No stats available&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="k">return</span>
<span class="w">        </span><span class="err">}</span>

<span class="w">        </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;=== Your Stats ===&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;Blocks Placed: {stats.blocksPlaced}&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;Blocks Broken: {stats.blocksBroken}&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;Deaths: {stats.deaths}&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;Kills: {stats.kills}&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>
</code></pre></div>

<p><strong>Leaderboard system:</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">let</span><span class="w"> </span><span class="n">scores</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{}</span>

<span class="n">func</span><span class="w"> </span><span class="n">setScore</span><span class="p">(</span><span class="n">playerName</span><span class="p">,</span><span class="w"> </span><span class="n">score</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">scores</span><span class="o">[</span><span class="n">playerName</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">score</span>
<span class="err">}</span>

<span class="n">func</span><span class="w"> </span><span class="n">getScore</span><span class="p">(</span><span class="n">playerName</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">scores</span><span class="o">[</span><span class="n">playerName</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="err">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">scores</span><span class="o">[</span><span class="n">playerName</span><span class="o">]</span>
<span class="err">}</span>

<span class="n">func</span><span class="w"> </span><span class="n">addScore</span><span class="p">(</span><span class="n">playerName</span><span class="p">,</span><span class="w"> </span><span class="n">amount</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="k">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getScore</span><span class="p">(</span><span class="n">playerName</span><span class="p">)</span>
<span class="w">    </span><span class="n">setScore</span><span class="p">(</span><span class="n">playerName</span><span class="p">,</span><span class="w"> </span><span class="k">current</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">amount</span><span class="p">)</span>
<span class="err">}</span>

<span class="n">func</span><span class="w"> </span><span class="n">getTopPlayers</span><span class="p">(</span><span class="nf">count</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">players</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_online_players</span><span class="p">()</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">playerScores</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[]</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">players</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getScore</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">name</span><span class="p">)</span>
<span class="w">        </span><span class="n">append</span><span class="p">(</span><span class="n">playerScores</span><span class="p">,</span><span class="w"> </span><span class="err">{</span><span class="nl">name</span><span class="p">:</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="nl">score</span><span class="p">:</span><span class="w"> </span><span class="n">score</span><span class="err">}</span><span class="p">)</span>
<span class="w">    </span><span class="err">}</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Sort</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="p">(</span><span class="n">bubble</span><span class="w"> </span><span class="n">sort</span><span class="p">)</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">playerScores</span><span class="p">)</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">playerScores</span><span class="o">[</span><span class="n">j</span><span class="o">]</span><span class="p">.</span><span class="n">score</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">playerScores</span><span class="o">[</span><span class="n">j + 1</span><span class="o">]</span><span class="p">.</span><span class="n">score</span><span class="w"> </span><span class="err">{</span>
<span class="w">                </span><span class="n">let</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">playerScores</span><span class="o">[</span><span class="n">j</span><span class="o">]</span>
<span class="w">                </span><span class="n">playerScores</span><span class="o">[</span><span class="n">j</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">playerScores</span><span class="o">[</span><span class="n">j + 1</span><span class="o">]</span>
<span class="w">                </span><span class="n">playerScores</span><span class="o">[</span><span class="n">j + 1</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span>
<span class="w">            </span><span class="err">}</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="k">Return</span><span class="w"> </span><span class="k">top</span><span class="w"> </span><span class="nf">count</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="k">top</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[]</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nf">count</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">playerScores</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="n">append</span><span class="p">(</span><span class="k">top</span><span class="p">,</span><span class="w"> </span><span class="n">playerScores</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">)</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">top</span>
<span class="err">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="p">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">&quot;!leaderboard&quot;</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="k">top</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getTopPlayers</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="w">        </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;=== Top 5 Players ===&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="k">top</span><span class="p">))</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">top</span><span class="o">[</span><span class="n">i</span><span class="o">]</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="nf">rank</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
<span class="w">            </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;{rank}. {entry.name}: {entry.score}&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="p">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">&quot;!score&quot;</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getScore</span><span class="p">(</span><span class="n">player</span><span class="p">.</span><span class="n">name</span><span class="p">)</span>
<span class="w">        </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;Your score: {score}&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Award</span><span class="w"> </span><span class="n">points</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">BlockBreak</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">block</span><span class="p">.</span><span class="n">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">&quot;diamond_ore&quot;</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">addScore</span><span class="p">(</span><span class="n">player</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<span class="w">        </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;+10 points! (Diamond ore)&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>
</code></pre></div>

<p><strong>Player grouping:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">func</span><span class="w"> </span><span class="n">getPlayersByLocation</span><span class="p">(</span><span class="n">location</span><span class="p">,</span><span class="w"> </span><span class="n">radius</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">players</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_online_players</span><span class="p">()</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">nearby</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">players</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">dist</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">distance</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">location</span><span class="p">,</span><span class="w"> </span><span class="n">location</span><span class="p">)</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">dist</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">radius</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">append</span><span class="p">(</span><span class="n">nearby</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">nearby</span>
<span class="p">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="o">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;!nearby&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">nearby</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getPlayersByLocation</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">location</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">nearby</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;No players nearby&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Nearby players ({len(nearby) - 1}):&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">nearby</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">player</span><span class="o">.</span><span class="n">name</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">let</span><span class="w"> </span><span class="n">dist</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">distance</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">location</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="o">.</span><span class="n">location</span><span class="p">)</span>
<span class="w">                    </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;- {p.name} ({round(dist)} blocks)&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Group</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">gamemode</span>
<span class="k">func</span><span class="w"> </span><span class="n">getPlayersByGamemode</span><span class="p">(</span><span class="n">gamemode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">players</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_online_players</span><span class="p">()</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">players</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">get_gamemode</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">gamemode</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">append</span><span class="p">(</span><span class="n">filtered</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">filtered</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Group</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">health</span>
<span class="k">func</span><span class="w"> </span><span class="n">getInjuredPlayers</span><span class="p">(</span><span class="n">threshold</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">players</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_online_players</span><span class="p">()</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">injured</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">players</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">get_health</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">threshold</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">append</span><span class="p">(</span><span class="n">injured</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">injured</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Advanced player search:</strong></p>
<div class="highlight"><pre><span></span><code>func<span class="w"> </span>findPlayers(criteria)<span class="w"> </span>{
<span class="w">    </span>let<span class="w"> </span>players<span class="w"> </span>=<span class="w"> </span>get_online_players()
<span class="w">    </span>let<span class="w"> </span>results<span class="w"> </span>=<span class="w"> </span>[]

<span class="w">    </span>for<span class="w"> </span>p<span class="w"> </span>in<span class="w"> </span>players<span class="w"> </span>{
<span class="w">        </span>let<span class="w"> </span>matches<span class="w"> </span>=<span class="w"> </span>true

<span class="w">        </span>//<span class="w"> </span>Check<span class="w"> </span>name
<span class="w">        </span>if<span class="w"> </span>criteria.name<span class="w"> </span>!=<span class="w"> </span>null<span class="w"> </span>{
<span class="w">            </span>if<span class="w"> </span>!contains(p.name,<span class="w"> </span>criteria.name)<span class="w"> </span>{
<span class="w">                </span>matches<span class="w"> </span>=<span class="w"> </span>false
<span class="w">            </span>}
<span class="w">        </span>}

<span class="w">        </span>//<span class="w"> </span>Check<span class="w"> </span>gamemode
<span class="w">        </span>if<span class="w"> </span>criteria.gamemode<span class="w"> </span>!=<span class="w"> </span>null<span class="w"> </span>{
<span class="w">            </span>if<span class="w"> </span>get_gamemode(p)<span class="w"> </span>!=<span class="w"> </span>criteria.gamemode<span class="w"> </span>{
<span class="w">                </span>matches<span class="w"> </span>=<span class="w"> </span>false
<span class="w">            </span>}
<span class="w">        </span>}

<span class="w">        </span>//<span class="w"> </span>Check<span class="w"> </span>health<span class="w"> </span>range
<span class="w">        </span>if<span class="w"> </span>criteria.minHealth<span class="w"> </span>!=<span class="w"> </span>null<span class="w"> </span>{
<span class="w">            </span>if<span class="w"> </span>get_health(p)<span class="w"> </span><span class="nt">&lt; criteria.minHealth</span><span class="w"> </span><span class="err">{</span>
<span class="w">                </span><span class="na">matches =</span><span class="w"> </span><span class="s">false</span>
<span class="w">            </span><span class="err">}</span>
<span class="w">        </span><span class="err">}</span>

<span class="w">        </span><span class="err">if</span><span class="w"> </span><span class="err">criteria.maxHealth</span><span class="w"> </span><span class="err">!=</span><span class="w"> </span><span class="err">null</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="err">if</span><span class="w"> </span><span class="err">get_health(p)</span><span class="w"> </span><span class="nt">&gt;</span><span class="w"> </span>criteria.maxHealth<span class="w"> </span>{
<span class="w">                </span>matches<span class="w"> </span>=<span class="w"> </span>false
<span class="w">            </span>}
<span class="w">        </span>}

<span class="w">        </span>//<span class="w"> </span>Check<span class="w"> </span>location<span class="w"> </span>radius
<span class="w">        </span>if<span class="w"> </span>criteria.location<span class="w"> </span>!=<span class="w"> </span>null<span class="w"> </span><span class="err">&amp;&amp;</span><span class="w"> </span>criteria.radius<span class="w"> </span>!=<span class="w"> </span>null<span class="w"> </span>{
<span class="w">            </span>let<span class="w"> </span>dist<span class="w"> </span>=<span class="w"> </span>distance(p.location,<span class="w"> </span>criteria.location)
<span class="w">            </span>if<span class="w"> </span>dist<span class="w"> </span>&gt;<span class="w"> </span>criteria.radius<span class="w"> </span>{
<span class="w">                </span>matches<span class="w"> </span>=<span class="w"> </span>false
<span class="w">            </span>}
<span class="w">        </span>}

<span class="w">        </span>if<span class="w"> </span>matches<span class="w"> </span>{
<span class="w">            </span>append(results,<span class="w"> </span>p)
<span class="w">        </span>}
<span class="w">    </span>}

<span class="w">    </span>return<span class="w"> </span>results
}

OnEvent(PlayerChat)<span class="w"> </span>{
<span class="w">    </span>if<span class="w"> </span>chat.message<span class="w"> </span>==<span class="w"> </span>&quot;!find<span class="w"> </span>injured&quot;<span class="w"> </span>{
<span class="w">        </span>let<span class="w"> </span>injured<span class="w"> </span>=<span class="w"> </span>findPlayers({
<span class="w">            </span>minHealth:<span class="w"> </span>0,
<span class="w">            </span>maxHealth:<span class="w"> </span>10
<span class="w">        </span>})

<span class="w">        </span>sendmessage(player,<span class="w"> </span>&quot;Injured<span class="w"> </span>players:<span class="w"> </span>{len(injured)}&quot;)
<span class="w">        </span>for<span class="w"> </span>p<span class="w"> </span>in<span class="w"> </span>injured<span class="w"> </span>{
<span class="w">            </span>let<span class="w"> </span>health<span class="w"> </span>=<span class="w"> </span>get_health(p)
<span class="w">            </span>sendmessage(player,<span class="w"> </span>&quot;-<span class="w"> </span>{p.name}<span class="w"> </span>({health}<span class="w"> </span>HP)&quot;)
<span class="w">        </span>}
<span class="w">    </span>}

<span class="w">    </span>if<span class="w"> </span>chat.message<span class="w"> </span>==<span class="w"> </span>&quot;!find<span class="w"> </span>survival&quot;<span class="w"> </span>{
<span class="w">        </span>let<span class="w"> </span>survival<span class="w"> </span>=<span class="w"> </span>findPlayers({
<span class="w">            </span>gamemode:<span class="w"> </span>&quot;SURVIVAL&quot;
<span class="w">        </span>})

<span class="w">        </span>sendmessage(player,<span class="w"> </span>&quot;Survival<span class="w"> </span>players:<span class="w"> </span>{len(survival)}&quot;)
<span class="w">    </span>}
}
</code></pre></div>

<p><strong>Batch player operations:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">func</span><span class="w"> </span><span class="n">batchOperation</span><span class="p">(</span><span class="n">players</span><span class="p">,</span><span class="w"> </span><span class="n">operation</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">players</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">operation</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="w">            </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="n">catch</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nb">log</span><span class="p">(</span><span class="s2">&quot;Error for {p.name}: {error}&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">count</span>
<span class="p">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="o">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;!healall&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">is_op</span><span class="p">(</span><span class="n">player</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">players</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_online_players</span><span class="p">()</span>

<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">healed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">batchOperation</span><span class="p">(</span><span class="n">players</span><span class="p">,</span><span class="w"> </span><span class="k">func</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">heal</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="w">            </span><span class="p">})</span>

<span class="w">            </span><span class="n">broadcast</span><span class="p">(</span><span class="s2">&quot;Healed {healed} players!&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="o">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;!cleareffects&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">is_op</span><span class="p">(</span><span class="n">player</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">players</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_online_players</span><span class="p">()</span>

<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">cleared</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">batchOperation</span><span class="p">(</span><span class="n">players</span><span class="p">,</span><span class="w"> </span><span class="k">func</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">clear_effects</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="w">            </span><span class="p">})</span>

<span class="w">            </span><span class="n">broadcast</span><span class="p">(</span><span class="s2">&quot;Cleared effects for {cleared} players!&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Player monitoring:</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">let</span><span class="w"> </span><span class="n">afkTimers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
<span class="n">let</span><span class="w"> </span><span class="n">afkThreshold</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">600</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="n">seconds</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerMove</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">afkTimers</span><span class="p">[</span><span class="n">player</span><span class="o">.</span><span class="n">name</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="p">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">afkTimers</span><span class="p">[</span><span class="n">player</span><span class="o">.</span><span class="n">name</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Called</span><span class="w"> </span><span class="n">periodically</span>
<span class="k">func</span><span class="w"> </span><span class="n">checkAfk</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">players</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_online_players</span><span class="p">()</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">players</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">afkTimers</span><span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">afkTimers</span><span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">afkTimers</span><span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">afkTimers</span><span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">afkTimers</span><span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">afkThreshold</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;You are now marked as AFK&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="n">give_effect</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;glowing&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="o">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;!afk&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">afkPlayers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">players</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_online_players</span><span class="p">()</span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">players</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">afkTimers</span><span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">afkThreshold</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">append</span><span class="p">(</span><span class="n">afkPlayers</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">afkPlayers</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;No AFK players&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">join</span><span class="p">(</span><span class="n">afkPlayers</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;, &quot;</span><span class="p">)</span>
<span class="w">            </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;AFK players: {list}&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h2 id="performance-best-practices">Performance Best Practices</h2>
<p><strong>Efficient list operations:</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">//</span><span class="w"> </span><span class="n">BAD</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Repeatedly</span><span class="w"> </span><span class="n">searching</span><span class="w"> </span><span class="n">list</span>
<span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="k">contains</span><span class="p">(</span><span class="n">list</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;value&quot;</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">Do</span><span class="w"> </span><span class="n">something</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">GOOD</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">Check</span><span class="w"> </span><span class="n">once</span>
<span class="n">let</span><span class="w"> </span><span class="n">hasValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">contains</span><span class="p">(</span><span class="n">list</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;value&quot;</span><span class="p">)</span>
<span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">hasValue</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">Do</span><span class="w"> </span><span class="n">something</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">BAD</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Getting</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">loop</span>
<span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">list</span><span class="p">))</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="nf">log</span><span class="p">(</span><span class="n">list</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">)</span>
<span class="err">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">GOOD</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Cache</span><span class="w"> </span><span class="n">length</span>
<span class="n">let</span><span class="w"> </span><span class="k">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">list</span><span class="p">)</span>
<span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="k">size</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="nf">log</span><span class="p">(</span><span class="n">list</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">)</span>
<span class="err">}</span>
</code></pre></div>

<p><strong>Efficient string building:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// BAD - Repeated concatenation</span>
<span class="n">let</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="k">for</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">items</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">result</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;, &quot;</span>
<span class="p">}</span>

<span class="c1">// GOOD - Use join</span>
<span class="n">let</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">join</span><span class="p">(</span><span class="n">items</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="p">)</span>
</code></pre></div>

<p><strong>Efficient math operations:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// BAD - Unnecessary sqrt</span>
<span class="n">let</span><span class="w"> </span><span class="n">dist</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">sqrt</span><span class="p">(</span><span class="n">pow</span><span class="p">(</span><span class="n">dx</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">pow</span><span class="p">(</span><span class="n">dy</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span>
<span class="k">if</span><span class="w"> </span><span class="n">dist</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Do something</span>
<span class="p">}</span>

<span class="c1">// GOOD - Compare squared distances</span>
<span class="n">let</span><span class="w"> </span><span class="n">distSquared</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">pow</span><span class="p">(</span><span class="n">dx</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">pow</span><span class="p">(</span><span class="n">dy</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="k">if</span><span class="w"> </span><span class="n">distSquared</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">// 10 * 10</span>
<span class="w">    </span><span class="c1">// Do something</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Caching expensive operations:</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">//</span><span class="w"> </span><span class="n">BAD</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Repeated</span><span class="w"> </span><span class="n">expensive</span><span class="w"> </span><span class="n">calls</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerMove</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">players</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_online_players</span><span class="p">()</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Process</span><span class="w"> </span><span class="n">players</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">GOOD</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Cache</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="n">periodically</span>
<span class="n">let</span><span class="w"> </span><span class="n">cachedPlayers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>
<span class="n">let</span><span class="w"> </span><span class="n">cacheTimer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>

<span class="k">func</span><span class="w"> </span><span class="n">updatePlayerCache</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">cachedPlayers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_online_players</span><span class="p">()</span>
<span class="p">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerMove</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">cacheTimer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cacheTimer</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">cacheTimer</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">Update</span><span class="w"> </span><span class="n">every</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="n">seconds</span>
<span class="w">        </span><span class="n">updatePlayerCache</span><span class="p">()</span>
<span class="w">        </span><span class="n">cacheTimer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Use</span><span class="w"> </span><span class="n">cachedPlayers</span>
<span class="p">}</span>
</code></pre></div>

<h2 id="common-patterns">Common Patterns</h2>
<p><strong>Safe type conversion:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">func</span><span class="w"> </span><span class="n">safeToNumber</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">default</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">to_number</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="n">catch</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">default</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">let</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">safeToNumber</span><span class="p">(</span><span class="s2">&quot;invalid&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
</code></pre></div>

<p><strong>Range validation:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">func</span><span class="w"> </span><span class="n">inRange</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="nb">min</span><span class="p">,</span><span class="w"> </span><span class="nb">max</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="nb">min</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="nb">max</span>
<span class="p">}</span>

<span class="k">if</span><span class="w"> </span><span class="n">inRange</span><span class="p">(</span><span class="n">damage</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Valid</span><span class="w"> </span><span class="n">damage</span><span class="w"> </span><span class="n">value</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Null-safe operations:</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">func</span><span class="w"> </span><span class="n">getOrDefault</span><span class="p">(</span><span class="k">map</span><span class="p">,</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="k">default</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">map</span><span class="o">[</span><span class="n">key</span><span class="o">]</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">default</span>
<span class="w">    </span><span class="err">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">value</span>
<span class="err">}</span>

<span class="n">let</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getOrDefault</span><span class="p">(</span><span class="n">scores</span><span class="p">,</span><span class="w"> </span><span class="n">player</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
</code></pre></div>

<p><strong>List filtering:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">func</span><span class="w"> </span><span class="n">filter</span><span class="p">(</span><span class="n">list</span><span class="p">,</span><span class="w"> </span><span class="n">predicate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">predicate</span><span class="p">(</span><span class="n">item</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="n">item</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span>
<span class="p">}</span>

<span class="n">let</span><span class="w"> </span><span class="n">highScores</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">filter</span><span class="p">(</span><span class="n">scores</span><span class="p">,</span><span class="w"> </span><span class="k">func</span><span class="p">(</span><span class="n">score</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">100</span>
<span class="p">})</span>
</code></pre></div>

<p><strong>List mapping:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">func</span><span class="w"> </span><span class="n">map</span><span class="p">(</span><span class="n">list</span><span class="p">,</span><span class="w"> </span><span class="n">transform</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="n">transform</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span>
<span class="p">}</span>

<span class="n">let</span><span class="w"> </span><span class="n">names</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">map</span><span class="p">(</span><span class="n">players</span><span class="p">,</span><span class="w"> </span><span class="k">func</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">p</span><span class="o">.</span><span class="n">name</span>
<span class="p">})</span>
</code></pre></div>

<p><strong>Retry logic:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">func</span><span class="w"> </span><span class="n">retry</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span><span class="w"> </span><span class="n">maxAttempts</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">attempts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="n">attempts</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxAttempts</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">operation</span><span class="p">()</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="n">catch</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">attempts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">attempts</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">attempts</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">maxAttempts</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nb">log</span><span class="p">(</span><span class="s2">&quot;Failed after {attempts} attempts&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="n">throw</span><span class="w"> </span><span class="n">error</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="n">wait</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">Wait</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">second</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Debouncing:</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">let</span><span class="w"> </span><span class="n">lastTrigger</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{}</span>
<span class="n">let</span><span class="w"> </span><span class="n">debounceDelay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">40</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">seconds</span>

<span class="n">func</span><span class="w"> </span><span class="n">debounce</span><span class="p">(</span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="k">action</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">Would</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="nc">timestamp</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="k">last</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lastTrigger</span><span class="o">[</span><span class="n">key</span><span class="o">]</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="k">last</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">(</span><span class="n">now</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">last</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">debounceDelay</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">lastTrigger</span><span class="o">[</span><span class="n">key</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">now</span>
<span class="w">        </span><span class="k">action</span><span class="p">()</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerMove</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">debounce</span><span class="p">(</span><span class="n">player</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">func</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="n">runs</span><span class="w"> </span><span class="n">once</span><span class="w"> </span><span class="k">every</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">player</span>
<span class="w">        </span><span class="nf">log</span><span class="p">(</span><span class="ss">&quot;{player.name} moved&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="err">}</span><span class="p">)</span>
<span class="err">}</span>
</code></pre></div>

                    <div class="page-meta">
                        <span class="last-modified">Last updated: November 15, 2025</span>
                    </div>
                </article>

                <nav class='toc'><h4>On This Page</h4><ul><li style='margin-left:0px'><a href='#overview'>Overview</a></li><li style='margin-left:0px'><a href='#control-functions'>Control Functions</a></li><li style='margin-left:20px'><a href='#cancel'>cancel()</a></li><li style='margin-left:20px'><a href='#wait'>wait()</a></li><li style='margin-left:0px'><a href='#math-functions'>Math Functions</a></li><li style='margin-left:20px'><a href='#random'>random()</a></li><li style='margin-left:20px'><a href='#round'>round()</a></li><li style='margin-left:20px'><a href='#floor'>floor()</a></li><li style='margin-left:20px'><a href='#ceil'>ceil()</a></li><li style='margin-left:20px'><a href='#abs'>abs()</a></li><li style='margin-left:20px'><a href='#sqrt'>sqrt()</a></li><li style='margin-left:20px'><a href='#pow'>pow()</a></li><li style='margin-left:20px'><a href='#distance'>distance()</a></li><li style='margin-left:0px'><a href='#list-functions'>List Functions</a></li><li style='margin-left:20px'><a href='#len'>len()</a></li><li style='margin-left:20px'><a href='#append'>append()</a></li><li style='margin-left:20px'><a href='#remove'>remove()</a></li><li style='margin-left:20px'><a href='#contains'>contains()</a></li><li style='margin-left:20px'><a href='#range'>range()</a></li><li style='margin-left:20px'><a href='#random_choice'>random_choice()</a></li><li style='margin-left:0px'><a href='#string-functions'>String Functions</a></li><li style='margin-left:20px'><a href='#split'>split()</a></li><li style='margin-left:20px'><a href='#join'>join()</a></li><li style='margin-left:0px'><a href='#type-conversion'>Type Conversion</a></li><li style='margin-left:20px'><a href='#to_string'>to_string()</a></li><li style='margin-left:20px'><a href='#to_number'>to_number()</a></li><li style='margin-left:20px'><a href='#to_boolean'>to_boolean()</a></li><li style='margin-left:20px'><a href='#type_of'>type_of()</a></li><li style='margin-left:0px'><a href='#advanced-functions'>Advanced Functions</a></li><li style='margin-left:20px'><a href='#log'>log()</a></li><li style='margin-left:20px'><a href='#trigger_custom'>trigger_custom()</a></li><li style='margin-left:20px'><a href='#get_player'>get_player()</a></li><li style='margin-left:20px'><a href='#get_online_players'>get_online_players()</a></li><li style='margin-left:0px'><a href='#examples'>Examples</a></li><li style='margin-left:20px'><a href='#math-operations'>Math Operations</a></li><li style='margin-left:20px'><a href='#list-manipulation'>List Manipulation</a></li><li style='margin-left:20px'><a href='#string-processing'>String Processing</a></li><li style='margin-left:20px'><a href='#player-queries'>Player Queries</a></li><li style='margin-left:0px'><a href='#performance-best-practices'>Performance Best Practices</a></li><li style='margin-left:0px'><a href='#common-patterns'>Common Patterns</a></li></ul></nav>
            </div>

            <footer class="doc-footer">
                <div class="footer-content">
                    <div class="alpha-banner">Quill â€” A sandboxed scripting language for Minecraft event automation</div>
                    <div class="footer-links">
                        <a href="https://github.com/kohanmathers/quill/issues" target="_blank">Report Issue</a>
                        <span class="separator">â€¢</span>
                        <a href="https://github.com/kohanmathers/quill/blob/main/LICENSE" target="_blank">License</a>
                        <span class="separator">â€¢</span>
                        <a href="https://github.com/kohanmathers/quill" target="_blank">Contribute</a>
                    </div>
                </div>
            </footer>
        </main>
    </div>

    <script>
        function createParticles() {
            const particles = document.getElementById('particles');
            const symbols = ['fn', 'let', 'if', '{}', '()', '=>', '[]', '&&', '||', '==', '!='];
            const particleCount = 20;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.textContent = symbols[Math.floor(Math.random() * symbols.length)];
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 10 + 's';
                particle.style.animationDuration = (10 + Math.random() * 10) + 's';
                particles.appendChild(particle);
            }
        }

        document.addEventListener('DOMContentLoaded', function () {
            createParticles();

            document.querySelectorAll('.toc a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            });

            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    const id = entry.target.getAttribute('id');
                    if (entry.isIntersecting) {
                        document.querySelectorAll('.toc a').forEach(link => {
                            link.classList.remove('active');
                        });
                        const activeLink = document.querySelector(`.toc a[href="#${id}"]`);
                        if (activeLink) {
                            activeLink.classList.add('active');
                        }
                    }
                });
            }, { rootMargin: '-20% 0px -80% 0px' });

            document.querySelectorAll('h2[id], h3[id]').forEach(heading => {
                observer.observe(heading);
            });
        });
    </script>
</body>

</html>