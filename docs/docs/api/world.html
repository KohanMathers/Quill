<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A sandboxed scripting language for Minecraft event automation">
    <title>World Functions â€” Quill</title>
    <link rel="stylesheet" href="https://quill.kmathers.co.uk/docs/quilldocs.css">
</head>

<body>
    <div class="particles" id="particles"></div>

    <div class="layout">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>
                    <img src="https://raw.githubusercontent.com/KohanMathers/Quill/refs/heads/main/QuillLogo.png"
                        alt="Quill Logo">
                    <a href="../index.html">Quill</a>
                </h2>
                <p class="sidebar-tagline">A sandboxed scripting language for Minecraft event automation</p>
            </div>
            <nav class="sidebar-nav">
                <ul><li class='folder'><span class='folder-name'>advanced</span><ul><li><a href='/docs/advanced/custom-events.html'>Custom Events</a></li><li><a href='/docs/advanced/error-handling.html'>Error Handling</a></li><li><a href='/docs/advanced/persistent-variables.html'>Persistent Variables</a></li><li><a href='/docs/advanced/security.html'>Security</a></li><li><a href='/docs/advanced/subscopes.html'>Subscopes</a></li></ul></li><li class='folder'><span class='folder-name'>api</span><ul><li><a href='/docs/api/constructors.html'>Constructors</a></li><li><a href='/docs/api/player.html'>Player</a></li><li><a href='/docs/api/scope.html'>Scope</a></li><li><a href='/docs/api/utility.html'>Utility</a></li><li><a href='/docs/api/world.html' class='active'>World</a></li></ul></li><li class='folder'><span class='folder-name'>commands</span><ul><li><a href='/docs/commands/general.html'>General</a></li><li><a href='/docs/commands/scope-management.html'>Scope Management</a></li><li><a href='/docs/commands/script-management.html'>Script Management</a></li></ul></li><li><a href='/docs/configuration.html'>Configuration</a></li><li class='folder'><span class='folder-name'>developer</span><ul><li><a href='/docs/developer/api-integration.html'>Api Integration</a></li></ul></li><li class='folder'><span class='folder-name'>events</span><ul><li><a href='/docs/events/block-events.html'>Block Events</a></li><li><a href='/docs/events/entity-events.html'>Entity Events</a></li><li><a href='/docs/events/player-events.html'>Player Events</a></li><li><a href='/docs/events/world-events.html'>World Events</a></li></ul></li><li class='folder'><span class='folder-name'>examples</span><ul><li><a href='/docs/examples/basic-scripts.html'>Basic Scripts</a></li><li><a href='/docs/examples/minigames.html'>Minigames</a></li></ul></li><li><a href='/docs/faq.html'>Faq</a></li><li><a href='/docs/getting-started.html'>Getting Started</a></li><li><a href='/docs/index.html'>Index</a></li><li><a href='/docs/installation.html'>Installation</a></li><li class='folder'><span class='folder-name'>language</span><ul><li><a href='/docs/language/data-types.html'>Data Types</a></li><li><a href='/docs/language/events.html'>Events</a></li><li><a href='/docs/language/functions.html'>Functions</a></li><li><a href='/docs/language/scopes.html'>Scopes</a></li><li><a href='/docs/language/string-interpolation.html'>String Interpolation</a></li><li><a href='/docs/language/syntax.html'>Syntax</a></li></ul></li><li><a href='/docs/quickstart.html'>Quickstart</a></li></ul>
            </nav>
            <div class="sidebar-footer">
                <a class="github-link" href="https://github.com/kohanmathers/quill" target="_blank">
                    <svg width="20" height="20" viewBox="0 0 16 16" fill="currentColor">
                        <path
                            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z" />
                    </svg>
                    View on GitHub
                </a>
            </div>
        </aside>

        <main class="content">
            <header class="hero hide-hero">
                <img class="hero-logo"
                    src="https://raw.githubusercontent.com/KohanMathers/Quill/refs/heads/main/QuillLogo.png"
                    alt="Quill Logo">
                <h1>Quill</h1>
                <p>A sandboxed scripting language for Minecraft event automation</p>
                <div class="button-group">
                    <a class="ghbutton" href="https://github.com/kohanmathers/quill" target="_blank">View on GitHub</a>
                    <a class="learnmore" href="getting-started.html">Get Started</a>
                </div>
            </header>

            <nav class="breadcrumbs" aria-label="Breadcrumb">
                <a href='../index.html'>Quill</a><span class='separator'>/</span><span>Api</span><span class='separator'>/</span><span class='current'>World</span>
            </nav>

            <div class="doc-layout">
                <article class="doc-content">
                    <h1 class="page-title">World Functions</h1>
                    <h1 id="world-functions">World Functions</h1>
<h2 id="overview">Overview</h2>
<p>World functions allow you to manipulate the Minecraft world environment, including blocks, entities, time, weather, and special effects. These functions are essential for creating dynamic worlds, managing game mechanics, and implementing environmental systems.</p>
<p>World functions operate within the context of a scope's region. When coordinates are used without a world parameter, the function uses the world from the current scope's region definition.</p>
<h2 id="block-manipulation">Block Manipulation</h2>
<h3 id="set_block">set_block()</h3>
<p>Sets a block at a specific location.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>set_block(location, block_id)
set_block(x, y, z, block_id)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>location</code> - Location object where to place the block<br />
- <code>x, y, z</code> - Coordinates where to place the block (uses scope's world)<br />
- <code>block_id</code> - Block material identifier (e.g., "stone", "minecraft:diamond_block")</p>
<p><strong>Returns:</strong> <code>true</code> on success</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// Set block at location</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">loc</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">location</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">)</span>
<span class="nx">set_block</span><span class="p">(</span><span class="nx">loc</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;stone&quot;</span><span class="p">)</span>

<span class="c1">// Set block at coordinates</span>
<span class="nx">set_block</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;diamond_block&quot;</span><span class="p">)</span>

<span class="c1">// Set with namespace</span>
<span class="nx">set_block</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">70</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;minecraft:gold_block&quot;</span><span class="p">)</span>

<span class="c1">// Build a wall</span>
<span class="k">for</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nx">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">set_block</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;stone_bricks&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Replace block on break</span>
<span class="nx">OnEvent</span><span class="p">(</span><span class="nx">BlockBreak</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">block</span><span class="p">.</span><span class="k">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;diamond_ore&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">set_block</span><span class="p">(</span><span class="nx">block</span><span class="p">.</span><span class="nx">location</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;stone&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="nx">sendmessage</span><span class="p">(</span><span class="nx">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Diamond ore respawned as stone&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Block ID can include or omit "minecraft:" namespace<br />
- Invalid block IDs cause runtime errors<br />
- Replaces existing block at location<br />
- Does not drop the replaced block<br />
- Does not trigger block break/place events</p>
<h3 id="get_block">get_block()</h3>
<p>Gets the block type at a specific location.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>get_block(location)
get_block(x, y, z)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>location</code> - Location object to check<br />
- <code>x, y, z</code> - Coordinates to check (uses scope's world)</p>
<p><strong>Returns:</strong> String (block type in uppercase, e.g., "STONE", "DIAMOND_ORE")</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">//</span><span class="w"> </span><span class="n">Get</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">location</span>
<span class="n">let</span><span class="w"> </span><span class="n">loc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">location</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">)</span>
<span class="n">let</span><span class="w"> </span><span class="n">blockType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_block</span><span class="p">(</span><span class="n">loc</span><span class="p">)</span>
<span class="nb">log</span><span class="p">(</span><span class="s2">&quot;Block: {blockType}&quot;</span><span class="p">)</span>

<span class="o">//</span><span class="w"> </span><span class="n">Get</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">coordinates</span>
<span class="n">let</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_block</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span>
<span class="k">if</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;DIAMOND_ORE&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nb">log</span><span class="p">(</span><span class="s2">&quot;Found diamond ore!&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Check</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">specific</span><span class="w"> </span><span class="n">block</span>
<span class="k">func</span><span class="w"> </span><span class="n">findDiamonds</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span><span class="w"> </span><span class="n">y1</span><span class="p">,</span><span class="w"> </span><span class="n">z1</span><span class="p">,</span><span class="w"> </span><span class="n">x2</span><span class="p">,</span><span class="w"> </span><span class="n">y2</span><span class="p">,</span><span class="w"> </span><span class="n">z2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nb">range</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span><span class="w"> </span><span class="n">x2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nb">range</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span><span class="w"> </span><span class="n">y2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nb">range</span><span class="p">(</span><span class="n">z1</span><span class="p">,</span><span class="w"> </span><span class="n">z2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">let</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_block</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">)</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;DIAMOND_ORE&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">found</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">found</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Scan</span><span class="w"> </span><span class="n">below</span><span class="w"> </span><span class="n">player</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="o">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;!scan&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">loc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">player</span><span class="o">.</span><span class="n">location</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">loc</span><span class="o">.</span><span class="n">x</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">loc</span><span class="o">.</span><span class="n">y</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">loc</span><span class="o">.</span><span class="n">z</span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">depth</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_block</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">depth</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">)</span>
<span class="w">            </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Depth {depth}: {block}&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Returns block type in UPPERCASE<br />
- Returns "AIR" for air blocks<br />
- Returns exact material name (e.g., "STONE", not "stone")<br />
- Use with string comparison</p>
<h3 id="break_block">break_block()</h3>
<p>Breaks a block and drops its items.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>break_block(location)
break_block(x, y, z)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>location</code> - Location object of block to break<br />
- <code>x, y, z</code> - Coordinates of block to break (uses scope's world)</p>
<p><strong>Returns:</strong> <code>true</code> on success</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">//</span><span class="w"> </span><span class="n">Break</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">location</span>
<span class="n">let</span><span class="w"> </span><span class="n">loc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">location</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">)</span>
<span class="n">break_block</span><span class="p">(</span><span class="n">loc</span><span class="p">)</span>

<span class="o">//</span><span class="w"> </span><span class="n">Break</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">coordinates</span>
<span class="n">break_block</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">)</span>

<span class="o">//</span><span class="w"> </span><span class="n">Auto</span><span class="o">-</span><span class="n">mine</span><span class="w"> </span><span class="n">diamonds</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">BlockBreak</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">block</span><span class="o">.</span><span class="n">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;diamond_ore&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">Break</span><span class="w"> </span><span class="n">surrounding</span><span class="w"> </span><span class="n">blocks</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">block</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">x</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">block</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">y</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">block</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">z</span>

<span class="w">        </span><span class="n">break_block</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">)</span>
<span class="w">        </span><span class="n">break_block</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">)</span>
<span class="w">        </span><span class="n">break_block</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">)</span>
<span class="w">        </span><span class="n">break_block</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">)</span>

<span class="w">        </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Vein mined!&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Clear</span><span class="w"> </span><span class="n">area</span>
<span class="k">func</span><span class="w"> </span><span class="n">clearArea</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span><span class="w"> </span><span class="n">y1</span><span class="p">,</span><span class="w"> </span><span class="n">z1</span><span class="p">,</span><span class="w"> </span><span class="n">x2</span><span class="p">,</span><span class="w"> </span><span class="n">y2</span><span class="p">,</span><span class="w"> </span><span class="n">z2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nb">range</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span><span class="w"> </span><span class="n">x2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nb">range</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span><span class="w"> </span><span class="n">y2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nb">range</span><span class="p">(</span><span class="n">z1</span><span class="p">,</span><span class="w"> </span><span class="n">z2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">let</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_block</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">)</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s2">&quot;AIR&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">break_block</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">)</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Drops items naturally (affected by fortune, silk touch, etc.)<br />
- If block is AIR, does nothing<br />
- Replaces block with AIR<br />
- Drops items at block location<br />
- Does not trigger BlockBreakEvent</p>
<h2 id="entity-management">Entity Management</h2>
<h3 id="spawn_entity">spawn_entity()</h3>
<p>Spawns an entity at a specific location.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code><span class="nx">spawn_entity</span><span class="p">(</span><span class="nx">entity_type</span><span class="p">,</span><span class="w"> </span><span class="nx">location</span><span class="p">)</span>
<span class="nx">spawn_entity</span><span class="p">(</span><span class="nx">entity_type</span><span class="p">,</span><span class="w"> </span><span class="nx">x</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="p">,</span><span class="w"> </span><span class="nx">z</span><span class="p">)</span>
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>entity_type</code> - Entity type identifier (e.g., "zombie", "minecraft:creeper")<br />
- <code>location</code> - Location object where to spawn<br />
- <code>x, y, z</code> - Coordinates where to spawn (uses scope's world)</p>
<p><strong>Returns:</strong> Entity object</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">//</span><span class="w"> </span><span class="n">Spawn</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">location</span>
<span class="n">let</span><span class="w"> </span><span class="n">loc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">location</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">)</span>
<span class="n">spawn_entity</span><span class="p">(</span><span class="s2">&quot;zombie&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">loc</span><span class="p">)</span>

<span class="o">//</span><span class="w"> </span><span class="n">Spawn</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">coordinates</span>
<span class="n">spawn_entity</span><span class="p">(</span><span class="s2">&quot;creeper&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">)</span>

<span class="o">//</span><span class="w"> </span><span class="n">Spawn</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">namespace</span>
<span class="n">spawn_entity</span><span class="p">(</span><span class="s2">&quot;minecraft:skeleton&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">70</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span>

<span class="o">//</span><span class="w"> </span><span class="n">Spawn</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">mobs</span>
<span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">spawn_entity</span><span class="p">(</span><span class="s2">&quot;zombie&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">)</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Spawn</span><span class="w"> </span><span class="n">boss</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">player</span><span class="w"> </span><span class="n">death</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerDeath</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">death</span><span class="o">.</span><span class="n">cause</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;fall&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">loc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">player</span><span class="o">.</span><span class="n">location</span>
<span class="w">        </span><span class="n">spawn_entity</span><span class="p">(</span><span class="s2">&quot;wither&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">loc</span><span class="p">)</span>
<span class="w">        </span><span class="n">broadcast</span><span class="p">(</span><span class="s2">&quot;A Wither has been summoned!&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Random</span><span class="w"> </span><span class="n">mob</span><span class="w"> </span><span class="n">spawner</span>
<span class="k">func</span><span class="w"> </span><span class="n">spawnRandomMob</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">mobs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;zombie&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;skeleton&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;creeper&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;spider&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">choice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">random_choice</span><span class="p">(</span><span class="n">mobs</span><span class="p">)</span>
<span class="w">    </span><span class="n">spawn_entity</span><span class="p">(</span><span class="n">choice</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Entity type can include or omit "minecraft:" namespace<br />
- Invalid entity types cause runtime errors<br />
- Returns entity object that can be stored/manipulated<br />
- Triggers EntitySpawnEvent<br />
- Common entity types: zombie, skeleton, creeper, spider, enderman, villager, cow, pig, sheep</p>
<h3 id="remove_entity">remove_entity()</h3>
<p>Removes an entity from the world.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>remove_entity(entity)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>entity</code> - Entity object to remove</p>
<p><strong>Returns:</strong> Entity object (the removed entity)</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// Remove entity</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">zombie</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">spawn_entity</span><span class="p">(</span><span class="s">&quot;zombie&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">)</span>
<span class="nx">remove_entity</span><span class="p">(</span><span class="nx">zombie</span><span class="p">)</span>

<span class="c1">// Remove after delay (conceptual)</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">mob</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">spawn_entity</span><span class="p">(</span><span class="s">&quot;creeper&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">player</span><span class="p">.</span><span class="nx">location</span><span class="p">)</span>
<span class="c1">// wait(100) - Wait 5 seconds</span>
<span class="nx">remove_entity</span><span class="p">(</span><span class="nx">mob</span><span class="p">)</span>

<span class="c1">// Remove entities in area</span>
<span class="nx">OnEvent</span><span class="p">(</span><span class="nx">EntitySpawn</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">entity</span><span class="p">.</span><span class="k">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;creeper&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">in_region</span><span class="p">(</span><span class="nx">entity</span><span class="p">.</span><span class="nx">location</span><span class="p">,</span><span class="w"> </span><span class="nx">safeZone</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">remove_entity</span><span class="p">(</span><span class="nx">entity</span><span class="p">)</span>
<span class="w">            </span><span class="nx">log</span><span class="p">(</span><span class="s">&quot;Removed creeper from safe zone&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Clear hostile mobs</span>
<span class="nx">OnEvent</span><span class="p">(</span><span class="nx">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">chat</span><span class="p">.</span><span class="nx">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;!clear&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">is_op</span><span class="p">(</span><span class="nx">player</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Note: Would need to track spawned entities</span>
<span class="w">            </span><span class="nx">broadcast</span><span class="p">(</span><span class="s">&quot;Hostile mobs cleared!&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Entity is immediately removed from world<br />
- Entity object becomes invalid after removal<br />
- Does not drop items or experience<br />
- Does not trigger EntityDeathEvent<br />
- Use with entities from spawn_entity() or event context</p>
<h2 id="world-effects">World Effects</h2>
<h3 id="create_explosion">create_explosion()</h3>
<p>Creates an explosion at a specific location.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>create_explosion(location, power)
create_explosion(location, power, fire)
create_explosion(x, y, z, power)
create_explosion(x, y, z, power, fire)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>location</code> - Location object for explosion center<br />
- <code>x, y, z</code> - Coordinates for explosion center (uses scope's world)<br />
- <code>power</code> - Explosion power (0.0-10.0)<br />
- <code>fire</code> - Whether to set blocks on fire (boolean, default: false)</p>
<p><strong>Returns:</strong> <code>true</code> on success</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// Basic explosion</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">loc</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">location</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">)</span>
<span class="nx">create_explosion</span><span class="p">(</span><span class="nx">loc</span><span class="p">,</span><span class="w"> </span><span class="m m-Double">4.0</span><span class="p">)</span>

<span class="c1">// Explosion at coordinates</span>
<span class="nx">create_explosion</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="m m-Double">3.0</span><span class="p">)</span>

<span class="c1">// Explosion with fire</span>
<span class="nx">create_explosion</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="m m-Double">5.0</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span>

<span class="c1">// Powerful explosion</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">loc</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">player</span><span class="p">.</span><span class="nx">location</span>
<span class="nx">create_explosion</span><span class="p">(</span><span class="nx">loc</span><span class="p">,</span><span class="w"> </span><span class="m m-Double">10.0</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span>

<span class="c1">// TNT on interact</span>
<span class="nx">OnEvent</span><span class="p">(</span><span class="nx">BlockInteract</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">block</span><span class="p">.</span><span class="k">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;stone_button&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">create_explosion</span><span class="p">(</span><span class="nx">block</span><span class="p">.</span><span class="nx">location</span><span class="p">,</span><span class="w"> </span><span class="m m-Double">3.0</span><span class="p">)</span>
<span class="w">        </span><span class="nx">sendmessage</span><span class="p">(</span><span class="nx">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;BOOM!&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Explosive death</span>
<span class="nx">OnEvent</span><span class="p">(</span><span class="nx">PlayerDeath</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">loc</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">player</span><span class="p">.</span><span class="nx">location</span>
<span class="w">    </span><span class="nx">create_explosion</span><span class="p">(</span><span class="nx">loc</span><span class="p">,</span><span class="w"> </span><span class="m m-Double">2.0</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Landmine system</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">landmines</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="nx">location</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">),</span>
<span class="w">    </span><span class="nx">location</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">),</span>
<span class="w">    </span><span class="nx">location</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">)</span>
<span class="p">]</span>

<span class="nx">OnEvent</span><span class="p">(</span><span class="nx">PlayerMove</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="nx">mine</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nx">landmines</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">dist</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">distance</span><span class="p">(</span><span class="nx">player</span><span class="p">.</span><span class="nx">location</span><span class="p">,</span><span class="w"> </span><span class="nx">mine</span><span class="p">)</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">dist</span><span class="w"> </span><span class="p">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">create_explosion</span><span class="p">(</span><span class="nx">mine</span><span class="p">,</span><span class="w"> </span><span class="m m-Double">4.0</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span>
<span class="w">            </span><span class="nx">sendmessage</span><span class="p">(</span><span class="nx">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;LANDMINE!&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Power must be between 0.0 and 10.0<br />
- Power 4.0 is equivalent to TNT<br />
- Higher power = larger radius and more damage<br />
- Fire parameter sets blocks on fire<br />
- Damages entities and destroys blocks<br />
- Values outside 0.0-10.0 cause runtime errors</p>
<h3 id="strike_lightning">strike_lightning()</h3>
<p>Strikes lightning at a specific location.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>strike_lightning(location)
strike_lightning(x, y, z)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>location</code> - Location object where to strike<br />
- <code>x, y, z</code> - Coordinates where to strike (uses scope's world)</p>
<p><strong>Returns:</strong> <code>true</code> on success</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">//</span><span class="w"> </span><span class="n">Strike</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">location</span>
<span class="n">let</span><span class="w"> </span><span class="n">loc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">location</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">)</span>
<span class="n">strike_lightning</span><span class="p">(</span><span class="n">loc</span><span class="p">)</span>

<span class="o">//</span><span class="w"> </span><span class="n">Strike</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">coordinates</span>
<span class="n">strike_lightning</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">)</span>

<span class="o">//</span><span class="w"> </span><span class="n">Strike</span><span class="w"> </span><span class="n">player</span><span class="w"> </span><span class="n">location</span>
<span class="n">strike_lightning</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">location</span><span class="p">)</span>

<span class="o">//</span><span class="w"> </span><span class="n">Lightning</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">command</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="o">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;!smite&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">is_op</span><span class="p">(</span><span class="n">player</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">strike_lightning</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">location</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Thor</span><span class="s1">&#39;s hammer</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerInteract</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">interact</span><span class="o">.</span><span class="n">item</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">interact</span><span class="o">.</span><span class="n">item</span><span class="o">.</span><span class="n">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;golden_axe&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">interact</span><span class="o">.</span><span class="n">block</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">strike_lightning</span><span class="p">(</span><span class="n">interact</span><span class="o">.</span><span class="n">block</span><span class="p">)</span>
<span class="w">                </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Thor&#39;s power!&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Lightning</span><span class="w"> </span><span class="n">storm</span>
<span class="k">func</span><span class="w"> </span><span class="n">createStorm</span><span class="p">(</span><span class="n">centerX</span><span class="p">,</span><span class="w"> </span><span class="n">centerY</span><span class="p">,</span><span class="w"> </span><span class="n">centerZ</span><span class="p">,</span><span class="w"> </span><span class="n">count</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">count</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">centerX</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">random</span><span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">centerZ</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">random</span><span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span>
<span class="w">        </span><span class="n">strike_lightning</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">centerY</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Punishment</span><span class="w"> </span><span class="n">system</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">BlockBreak</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">block</span><span class="o">.</span><span class="n">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;bedrock&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">strike_lightning</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">location</span><span class="p">)</span>
<span class="w">        </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Don&#39;t break bedrock!&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Deals damage to nearby entities<br />
- Sets blocks on fire<br />
- Can be seen from far away<br />
- Makes thunder sound<br />
- Affects nearby entities with lightning effects<br />
- Works in any weather</p>
<h2 id="time-and-weather">Time and Weather</h2>
<h3 id="set_time">set_time()</h3>
<p>Sets the time in a world.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>set_time(world, time)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>world</code> - World object to modify<br />
- <code>time</code> - Time value (0-24000)<br />
  - 0 = Dawn (6:00 AM)<br />
  - 6000 = Noon (12:00 PM)<br />
  - 12000 = Dusk (6:00 PM)<br />
  - 18000 = Midnight (12:00 AM)<br />
  - 24000 = Next dawn</p>
<p><strong>Returns:</strong> <code>true</code> on success</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// Set to day</span>
<span class="n">let</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s">&quot;world&quot;</span><span class="p">)</span>
<span class="n">set_time</span><span class="p">(</span><span class="n">world</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">)</span>

<span class="c1">// Set to noon</span>
<span class="n">set_time</span><span class="p">(</span><span class="n">world</span><span class="p">,</span><span class="w"> </span><span class="mi">6000</span><span class="p">)</span>

<span class="c1">// Set to night</span>
<span class="n">set_time</span><span class="p">(</span><span class="n">world</span><span class="p">,</span><span class="w"> </span><span class="mi">13000</span><span class="p">)</span>

<span class="c1">// Set to midnight</span>
<span class="n">set_time</span><span class="p">(</span><span class="n">world</span><span class="p">,</span><span class="w"> </span><span class="mi">18000</span><span class="p">)</span>

<span class="c1">// Day command</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="p">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;!day&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">is_op</span><span class="p">(</span><span class="n">player</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s">&quot;world&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="n">set_time</span><span class="p">(</span><span class="n">world</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">)</span>
<span class="w">            </span><span class="n">broadcast</span><span class="p">(</span><span class="s">&quot;Time set to day&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Night command</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="p">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;!night&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">is_op</span><span class="p">(</span><span class="n">player</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s">&quot;world&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="n">set_time</span><span class="p">(</span><span class="n">world</span><span class="p">,</span><span class="w"> </span><span class="mi">13000</span><span class="p">)</span>
<span class="w">            </span><span class="n">broadcast</span><span class="p">(</span><span class="s">&quot;Time set to night&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Auto day/night cycle control</span>
<span class="n">let</span><span class="w"> </span><span class="n">alwaysDay</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">true</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">TimeChange</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">alwaysDay</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">time</span><span class="p">.</span><span class="n">new</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">12000</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">set_time</span><span class="p">(</span><span class="n">world</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Time must be between 0 and 24000<br />
- Values outside range cause runtime errors<br />
- Time is measured in ticks<br />
- Instantly changes time<br />
- Does not affect weather</p>
<h3 id="get_time">get_time()</h3>
<p>Gets the current time in a world.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>get_time(world)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>world</code> - World object to check</p>
<p><strong>Returns:</strong> Number (time value 0-24000)</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// Get current time</span>
<span class="n">let</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s">&quot;world&quot;</span><span class="p">)</span>
<span class="n">let</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">get_time</span><span class="p">(</span><span class="n">world</span><span class="p">)</span>
<span class="nb">log</span><span class="p">(</span><span class="s">&quot;Current time: {time}&quot;</span><span class="p">)</span>

<span class="c1">// Check if day</span>
<span class="n">let</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">get_time</span><span class="p">(</span><span class="n">world</span><span class="p">)</span>
<span class="k">if</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="o">&gt;</span><span class="p">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">12000</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nb">log</span><span class="p">(</span><span class="s">&quot;It&#39;s daytime&quot;</span><span class="p">)</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nb">log</span><span class="p">(</span><span class="s">&quot;It&#39;s nighttime&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Time-based events</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">TimeChange</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">get_time</span><span class="p">(</span><span class="n">world</span><span class="p">)</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">broadcast</span><span class="p">(</span><span class="s">&quot;Dawn breaks!&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">6000</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">broadcast</span><span class="p">(</span><span class="s">&quot;It&#39;s noon!&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">12000</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">broadcast</span><span class="p">(</span><span class="s">&quot;Dusk approaches...&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">18000</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">broadcast</span><span class="p">(</span><span class="s">&quot;Midnight! Beware of monsters!&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Display time command</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="p">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;!time&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s">&quot;world&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">get_time</span><span class="p">(</span><span class="n">world</span><span class="p">)</span>
<span class="w">        </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Current time: {time}/24000&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Returns current world time in ticks<br />
- 0-12000 is roughly day<br />
- 12000-24000 is roughly night<br />
- Time continuously increases<br />
- Resets to 0 after 24000</p>
<h3 id="set_weather">set_weather()</h3>
<p>Sets the weather in a world.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>set_weather(world, weather, duration)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>world</code> - World object to modify<br />
- <code>weather</code> - Weather type: "clear", "rain", or "thunder"<br />
- <code>duration</code> - Duration in ticks (20 ticks = 1 second)</p>
<p><strong>Returns:</strong> <code>true</code> on success</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// Set clear weather</span>
<span class="n">let</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s">&quot;world&quot;</span><span class="p">)</span>
<span class="n">set_weather</span><span class="p">(</span><span class="n">world</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;clear&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">6000</span><span class="p">)</span><span class="w">  </span><span class="c1">// Clear for 5 minutes</span>

<span class="c1">// Set rain</span>
<span class="n">set_weather</span><span class="p">(</span><span class="n">world</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;rain&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">3000</span><span class="p">)</span><span class="w">  </span><span class="c1">// Rain for 2.5 minutes</span>

<span class="c1">// Set thunderstorm</span>
<span class="n">set_weather</span><span class="p">(</span><span class="n">world</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;thunder&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2000</span><span class="p">)</span><span class="w">  </span><span class="c1">// Thunder for 1 minute 40 seconds</span>

<span class="c1">// Clear command</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="p">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;!clear&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">is_op</span><span class="p">(</span><span class="n">player</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s">&quot;world&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="n">set_weather</span><span class="p">(</span><span class="n">world</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;clear&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">12000</span><span class="p">)</span>
<span class="w">            </span><span class="n">broadcast</span><span class="p">(</span><span class="s">&quot;Weather cleared&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Rain command</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="p">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;!rain&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">is_op</span><span class="p">(</span><span class="n">player</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s">&quot;world&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="n">set_weather</span><span class="p">(</span><span class="n">world</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;rain&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">6000</span><span class="p">)</span>
<span class="w">            </span><span class="n">broadcast</span><span class="p">(</span><span class="s">&quot;It&#39;s raining!&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Thunder command</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="p">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;!thunder&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">is_op</span><span class="p">(</span><span class="n">player</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s">&quot;world&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="n">set_weather</span><span class="p">(</span><span class="n">world</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;thunder&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">4000</span><span class="p">)</span>
<span class="w">            </span><span class="n">broadcast</span><span class="p">(</span><span class="s">&quot;Thunderstorm incoming!&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Event-based weather</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerDeath</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s">&quot;world&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">set_weather</span><span class="p">(</span><span class="n">world</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;thunder&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Weather must be "clear", "rain", or "thunder"<br />
- Invalid weather types cause runtime errors<br />
- Duration in ticks (20 ticks = 1 second)<br />
- "thunder" includes rain and lightning<br />
- Changes weather instantly</p>
<h3 id="get_weather">get_weather()</h3>
<p>Gets the current weather in a world.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>get_weather(world)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>world</code> - World object to check</p>
<p><strong>Returns:</strong> String ("clear", "rain", or "thunder")</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// Get current weather</span>
<span class="n">let</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s">&quot;world&quot;</span><span class="p">)</span>
<span class="n">let</span><span class="w"> </span><span class="n">weather</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">get_weather</span><span class="p">(</span><span class="n">world</span><span class="p">)</span>
<span class="nb">log</span><span class="p">(</span><span class="s">&quot;Weather: {weather}&quot;</span><span class="p">)</span>

<span class="c1">// Check weather</span>
<span class="n">let</span><span class="w"> </span><span class="n">weather</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">get_weather</span><span class="p">(</span><span class="n">world</span><span class="p">)</span>
<span class="k">if</span><span class="w"> </span><span class="n">weather</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;rain&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nb">log</span><span class="p">(</span><span class="s">&quot;It&#39;s raining&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Weather-dependent events</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerJoin</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s">&quot;world&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">weather</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">get_weather</span><span class="p">(</span><span class="n">world</span><span class="p">)</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">weather</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;thunder&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Watch out for lightning!&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Display weather</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="p">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;!weather&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s">&quot;world&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">weather</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">get_weather</span><span class="p">(</span><span class="n">world</span><span class="p">)</span>
<span class="w">        </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Current weather: {weather}&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Auto-clear rain</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">WeatherChange</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">weather</span><span class="p">.</span><span class="n">new</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;rain&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">set_weather</span><span class="p">(</span><span class="n">world</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;clear&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">6000</span><span class="p">)</span>
<span class="w">        </span><span class="n">broadcast</span><span class="p">(</span><span class="s">&quot;Rain automatically cleared&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Returns lowercase string<br />
- One of: "clear", "rain", "thunder"<br />
- "thunder" means thunderstorm (rain + lightning)<br />
- Updates when weather changes</p>
<h2 id="world-utilities">World Utilities</h2>
<h3 id="get_world">get_world()</h3>
<p>Gets a world object by name.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>get_world(world_name)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>world_name</code> - String name of the world</p>
<p><strong>Returns:</strong> World object</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">//</span><span class="w"> </span><span class="n">Get</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">world</span>
<span class="n">let</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s2">&quot;world&quot;</span><span class="p">)</span>

<span class="o">//</span><span class="w"> </span><span class="n">Get</span><span class="w"> </span><span class="n">nether</span>
<span class="n">let</span><span class="w"> </span><span class="n">nether</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s2">&quot;world_nether&quot;</span><span class="p">)</span>

<span class="o">//</span><span class="w"> </span><span class="n">Get</span><span class="w"> </span><span class="n">end</span>
<span class="n">let</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s2">&quot;world_the_end&quot;</span><span class="p">)</span>

<span class="o">//</span><span class="w"> </span><span class="n">Use</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">functions</span>
<span class="n">let</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s2">&quot;world&quot;</span><span class="p">)</span>
<span class="n">set_time</span><span class="p">(</span><span class="n">world</span><span class="p">,</span><span class="w"> </span><span class="mi">6000</span><span class="p">)</span>
<span class="n">set_weather</span><span class="p">(</span><span class="n">world</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;clear&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">12000</span><span class="p">)</span>

<span class="o">//</span><span class="w"> </span><span class="n">Multi</span><span class="o">-</span><span class="n">world</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">sync</span>
<span class="k">func</span><span class="w"> </span><span class="n">syncTime</span><span class="p">(</span><span class="n">time</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">overworld</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s2">&quot;world&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">nether</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s2">&quot;world_nether&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s2">&quot;world_the_end&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="n">set_time</span><span class="p">(</span><span class="n">overworld</span><span class="p">,</span><span class="w"> </span><span class="n">time</span><span class="p">)</span>
<span class="w">    </span><span class="n">set_time</span><span class="p">(</span><span class="n">nether</span><span class="p">,</span><span class="w"> </span><span class="n">time</span><span class="p">)</span>
<span class="w">    </span><span class="n">set_time</span><span class="p">(</span><span class="n">end</span><span class="p">,</span><span class="w"> </span><span class="n">time</span><span class="p">)</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">World</span><span class="o">-</span><span class="n">specific</span><span class="w"> </span><span class="n">events</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerJoin</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s2">&quot;world&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_time</span><span class="p">(</span><span class="n">world</span><span class="p">)</span>
<span class="w">    </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Overworld time: {time}&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Returns null if world doesn't exist<br />
- Common world names: "world", "world_nether", "world_the_end"<br />
- Custom world names depend on server configuration<br />
- World objects are used in time/weather functions</p>
<h3 id="broadcast">broadcast()</h3>
<p>Sends a message to all players in the current scope.</p>
<p><strong>Syntax:</strong></p>
<div class="highlight"><pre><span></span><code>broadcast(message)
</code></pre></div>

<p><strong>Parameters:</strong><br />
- <code>message</code> - String message to broadcast</p>
<p><strong>Returns:</strong> <code>true</code> on success</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">//</span><span class="w"> </span><span class="n">Simple</span><span class="w"> </span><span class="n">broadcast</span>
<span class="n">broadcast</span><span class="p">(</span><span class="s2">&quot;Hello everyone!&quot;</span><span class="p">)</span>

<span class="o">//</span><span class="w"> </span><span class="n">Broadcast</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">interpolation</span>
<span class="n">broadcast</span><span class="p">(</span><span class="s2">&quot;Server restarting in 5 minutes&quot;</span><span class="p">)</span>

<span class="o">//</span><span class="w"> </span><span class="n">Event</span><span class="w"> </span><span class="n">announcements</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerJoin</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">broadcast</span><span class="p">(</span><span class="s2">&quot;{player.name} joined the server!&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerQuit</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">broadcast</span><span class="p">(</span><span class="s2">&quot;{player.name} left the server&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerDeath</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">death</span><span class="o">.</span><span class="n">killer</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">broadcast</span><span class="p">(</span><span class="s2">&quot;{death.killer.name} killed {player.name}!&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">broadcast</span><span class="p">(</span><span class="s2">&quot;{player.name} died&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Achievement</span><span class="w"> </span><span class="n">broadcast</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">BlockBreak</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">block</span><span class="o">.</span><span class="n">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;diamond_ore&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">broadcast</span><span class="p">(</span><span class="s2">&quot;{player.name} found diamonds!&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Countdown</span><span class="w"> </span><span class="n">system</span>
<span class="k">func</span><span class="w"> </span><span class="n">startCountdown</span><span class="p">(</span><span class="n">seconds</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nb">range</span><span class="p">(</span><span class="n">seconds</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">broadcast</span><span class="p">(</span><span class="s2">&quot;Starting in {i}...&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">wait</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Wait</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">second</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">broadcast</span><span class="p">(</span><span class="s2">&quot;GO!&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Warning</span><span class="w"> </span><span class="n">system</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerMove</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">in_region</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="n">dangerZone</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">broadcast</span><span class="p">(</span><span class="s2">&quot;WARNING: {player.name} entered the danger zone!&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Notes:</strong><br />
- Sends to all players tracked in the current scope<br />
- For global scope, sends to all players in scope's player list<br />
- Does not send to all server players automatically<br />
- Use with scope player management for targeted broadcasts<br />
- Supports string interpolation</p>
<h2 id="examples">Examples</h2>
<h3 id="basic-block-manipulation">Basic Block Manipulation</h3>
<p><strong>Building structures:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">func</span><span class="w"> </span><span class="n">buildWall</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z1</span><span class="p">,</span><span class="w"> </span><span class="n">x2</span><span class="p">,</span><span class="w"> </span><span class="n">z2</span><span class="p">,</span><span class="w"> </span><span class="n">material</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nb">range</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span><span class="w"> </span><span class="n">x2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nb">range</span><span class="p">(</span><span class="n">z1</span><span class="p">,</span><span class="w"> </span><span class="n">z2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">set_block</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">,</span><span class="w"> </span><span class="n">material</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="o">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;!wall&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">is_op</span><span class="p">(</span><span class="n">player</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">loc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">player</span><span class="o">.</span><span class="n">location</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">loc</span><span class="o">.</span><span class="n">x</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">loc</span><span class="o">.</span><span class="n">y</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">loc</span><span class="o">.</span><span class="n">z</span>

<span class="w">            </span><span class="n">buildWall</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;stone_bricks&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Wall built!&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Auto-repair blocks:</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">let</span><span class="w"> </span><span class="n">protectedBlocks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">BlockPlace</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">in_region</span><span class="p">(</span><span class="n">block</span><span class="p">.</span><span class="n">location</span><span class="p">,</span><span class="w"> </span><span class="n">protectedZone</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;{block.location.x},{block.location.y},{block.location.z}&quot;</span>
<span class="w">        </span><span class="n">protectedBlocks</span><span class="o">[</span><span class="n">key</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">block</span><span class="p">.</span><span class="n">type</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">BlockBreak</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">in_region</span><span class="p">(</span><span class="n">block</span><span class="p">.</span><span class="n">location</span><span class="p">,</span><span class="w"> </span><span class="n">protectedZone</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;{block.location.x},{block.location.y},{block.location.z}&quot;</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">protectedBlocks</span><span class="o">[</span><span class="n">key</span><span class="o">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">originalType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">protectedBlocks</span><span class="o">[</span><span class="n">key</span><span class="o">]</span>
<span class="w">            </span><span class="n">set_block</span><span class="p">(</span><span class="n">block</span><span class="p">.</span><span class="n">location</span><span class="p">,</span><span class="w"> </span><span class="n">originalType</span><span class="p">)</span>
<span class="w">            </span><span class="n">cancel</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
<span class="w">            </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;Protected block restored!&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>
</code></pre></div>

<p><strong>Ore replacement:</strong></p>
<div class="highlight"><pre><span></span><code><span class="nx">OnEvent</span><span class="p">(</span><span class="nx">BlockBreak</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">block</span><span class="p">.</span><span class="k">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;diamond_ore&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Replace with stone temporarily</span>
<span class="w">        </span><span class="nx">set_block</span><span class="p">(</span><span class="nx">block</span><span class="p">.</span><span class="nx">location</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;stone&quot;</span><span class="p">)</span>

<span class="w">        </span><span class="c1">// In a real implementation, would respawn after delay</span>
<span class="w">        </span><span class="nx">sendmessage</span><span class="p">(</span><span class="nx">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Diamond ore will respawn soon&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="entity-spawning">Entity Spawning</h3>
<p><strong>Mob spawner:</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">let</span><span class="w"> </span><span class="n">spawnerLocation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">location</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">)</span>
<span class="n">let</span><span class="w"> </span><span class="n">spawnInterval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>

<span class="o">//</span><span class="w"> </span><span class="n">Called</span><span class="w"> </span><span class="n">periodically</span>
<span class="k">func</span><span class="w"> </span><span class="n">tickSpawner</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">spawnInterval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spawnInterval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">spawnInterval</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">Every</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="n">seconds</span>
<span class="w">        </span><span class="n">spawnInterval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>

<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">mobTypes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;zombie&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;skeleton&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;spider&quot;</span><span class="p">]</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">chosen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">random_choice</span><span class="p">(</span><span class="n">mobTypes</span><span class="p">)</span>
<span class="w">        </span><span class="n">spawn_entity</span><span class="p">(</span><span class="n">chosen</span><span class="p">,</span><span class="w"> </span><span class="n">spawnerLocation</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Boss summon:</strong></p>
<div class="highlight"><pre><span></span><code>OnEvent(PlayerChat) {
    if chat.message == &quot;!boss&quot; {
        if is_op(player) {
            let loc = player.location
            let boss = spawn_entity(&quot;wither&quot;, loc.x, loc.y + 10, loc.z)

            broadcast(&quot;A boss has been summoned!&quot;)
            broadcast(&quot;Defeat it for rewards!&quot;)

            // Play dramatic effect
            strike_lightning(loc)
            create_explosion(loc, 2.0, false)
        }
    }
}
</code></pre></div>

<p><strong>Friendly NPC spawner:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">func</span><span class="w"> </span><span class="n">spawnVillager</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">,</span><span class="w"> </span><span class="n">profession</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">villager</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spawn_entity</span><span class="p">(</span><span class="s2">&quot;villager&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">)</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Note</span><span class="p">:</span><span class="w"> </span><span class="n">Setting</span><span class="w"> </span><span class="n">profession</span><span class="w"> </span><span class="n">requires</span><span class="w"> </span><span class="n">additional</span><span class="w"> </span><span class="n">entity</span><span class="w"> </span><span class="n">manipulation</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">villager</span>
<span class="p">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="o">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;!shop&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">loc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">player</span><span class="o">.</span><span class="n">location</span>
<span class="w">        </span><span class="n">spawnVillager</span><span class="p">(</span><span class="n">loc</span><span class="o">.</span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">loc</span><span class="o">.</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">loc</span><span class="o">.</span><span class="n">z</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;farmer&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Shop villager spawned!&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Cleanup system:</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">let</span><span class="w"> </span><span class="n">spawnedEntities</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>

<span class="k">func</span><span class="w"> </span><span class="n">spawnTracked</span><span class="p">(</span><span class="n">entityType</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">entity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spawn_entity</span><span class="p">(</span><span class="n">entityType</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">)</span>
<span class="w">    </span><span class="n">append</span><span class="p">(</span><span class="n">spawnedEntities</span><span class="p">,</span><span class="w"> </span><span class="n">entity</span><span class="p">)</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">entity</span>
<span class="p">}</span>

<span class="k">func</span><span class="w"> </span><span class="n">cleanupAll</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">entity</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">spawnedEntities</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">remove_entity</span><span class="p">(</span><span class="n">entity</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">spawnedEntities</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>
<span class="w">    </span><span class="n">broadcast</span><span class="p">(</span><span class="s2">&quot;All spawned entities removed&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="o">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;!cleanup&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">is_op</span><span class="p">(</span><span class="n">player</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">cleanupAll</span><span class="p">()</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="weather-control">Weather Control</h3>
<p><strong>Weather station:</strong></p>
<div class="highlight"><pre><span></span><code>OnEvent(PlayerChat) {
    let world = get_world(&quot;world&quot;)

    if chat.message == &quot;!weather&quot; {
        let weather = get_weather(world)
        let time = get_time(world)
        sendmessage(player, &quot;Weather: {weather}&quot;)
        sendmessage(player, &quot;Time: {time}/24000&quot;)
    }

    if chat.message == &quot;!clear&quot; {
        if is_op(player) {
            set_weather(world, &quot;clear&quot;, 12000)
            broadcast(&quot;Weather cleared for 10 minutes&quot;)
        }
    }

    if chat.message == &quot;!storm&quot; {
        if is_op(player) {
            set_weather(world, &quot;thunder&quot;, 6000)
            broadcast(&quot;Storm summoned for 5 minutes&quot;)
        }
    }
}
</code></pre></div>

<p><strong>Dynamic weather events:</strong></p>
<div class="highlight"><pre><span></span><code><span class="nx">OnEvent</span><span class="p">(</span><span class="nx">PlayerDeath</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">world</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">get_world</span><span class="p">(</span><span class="s">&quot;world&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="nx">set_weather</span><span class="p">(</span><span class="nx">world</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;thunder&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2000</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// Strike lightning at death location</span>
<span class="w">    </span><span class="nx">strike_lightning</span><span class="p">(</span><span class="nx">player</span><span class="p">.</span><span class="nx">location</span><span class="p">)</span>

<span class="w">    </span><span class="nx">broadcast</span><span class="p">(</span><span class="s">&quot;{player.name}&#39;s death angered the gods!&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="nx">OnEvent</span><span class="p">(</span><span class="nx">BlockBreak</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">block</span><span class="p">.</span><span class="k">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;diamond_ore&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">world</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">get_world</span><span class="p">(</span><span class="s">&quot;world&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">currentWeather</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">get_weather</span><span class="p">(</span><span class="nx">world</span><span class="p">)</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">currentWeather</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;clear&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">set_weather</span><span class="p">(</span><span class="nx">world</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;rain&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">)</span>
<span class="w">            </span><span class="nx">sendmessage</span><span class="p">(</span><span class="nx">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;The diamonds brought rain!&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Weather cycle control:</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">let</span><span class="w"> </span><span class="n">weatherCycle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">&quot;clear&quot;, &quot;rain&quot;, &quot;clear&quot;, &quot;thunder&quot;, &quot;clear&quot;</span><span class="o">]</span>
<span class="n">let</span><span class="w"> </span><span class="n">currentCycleIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>

<span class="n">func</span><span class="w"> </span><span class="n">nextWeather</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="ss">&quot;world&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">weather</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">weatherCycle</span><span class="o">[</span><span class="n">currentCycleIndex</span><span class="o">]</span>

<span class="w">    </span><span class="n">set_weather</span><span class="p">(</span><span class="n">world</span><span class="p">,</span><span class="w"> </span><span class="n">weather</span><span class="p">,</span><span class="w"> </span><span class="mi">3000</span><span class="p">)</span>
<span class="w">    </span><span class="n">broadcast</span><span class="p">(</span><span class="ss">&quot;Weather changed to: {weather}&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="n">currentCycleIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">currentCycleIndex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">currentCycleIndex</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">weatherCycle</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">currentCycleIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>

<span class="o">//</span><span class="w"> </span><span class="k">Call</span><span class="w"> </span><span class="n">nextWeather</span><span class="p">()</span><span class="w"> </span><span class="n">periodically</span>
</code></pre></div>

<h3 id="time-control">Time Control</h3>
<p><strong>Time manager:</strong></p>
<div class="highlight"><pre><span></span><code>OnEvent(PlayerChat) {
    let world = get_world(&quot;world&quot;)

    if chat.message == &quot;!day&quot; {
        if is_op(player) {
            set_time(world, 1000)
            broadcast(&quot;Time set to day&quot;)
        }
    }

    if chat.message == &quot;!noon&quot; {
        if is_op(player) {
            set_time(world, 6000)
            broadcast(&quot;Time set to noon&quot;)
        }
    }

    if chat.message == &quot;!night&quot; {
        if is_op(player) {
            set_time(world, 13000)
            broadcast(&quot;Time set to night&quot;)
        }
    }

    if chat.message == &quot;!midnight&quot; {
        if is_op(player) {
            set_time(world, 18000)
            broadcast(&quot;Time set to midnight&quot;)
        }
    }
}
</code></pre></div>

<p><strong>Eternal day:</strong></p>
<div class="highlight"><pre><span></span><code>let alwaysDay = true

OnEvent(TimeChange) {
    if alwaysDay {
        if time.new &gt;= 12000 {
            set_time(world, 1000)
        }
    }
}

OnEvent(PlayerChat) {
    if chat.message == &quot;!toggle day&quot; {
        if is_op(player) {
            alwaysDay = !alwaysDay
            if alwaysDay {
                broadcast(&quot;Eternal day enabled&quot;)
            } else {
                broadcast(&quot;Normal day/night cycle restored&quot;)
            }
        }
    }
}
</code></pre></div>

<p><strong>Time-based events:</strong></p>
<div class="highlight"><pre><span></span><code>OnEvent(TimeChange) {
    let world = time.world
    let currentTime = time.new

    // Dawn events
    if currentTime == 0 {
        broadcast(&quot;Dawn breaks! All players healed&quot;)
        let players = get_online_players()
        for player in players {
            heal(player)
        }
    }

    // Noon events
    if currentTime == 6000 {
        broadcast(&quot;It&#39;s noon! Bonus experience&quot;)
    }

    // Dusk events
    if currentTime == 12000 {
        broadcast(&quot;Dusk approaches... Monsters will spawn soon&quot;)
        set_weather(world, &quot;clear&quot;, 6000)
    }

    // Midnight events
    if currentTime == 18000 {
        broadcast(&quot;MIDNIGHT! Extra dangerous mobs spawning!&quot;)

        // Spawn special mobs around players
        let players = get_online_players()
        for player in players {
            let loc = player.location
            spawn_entity(&quot;zombie&quot;, loc.x + 10, loc.y, loc.z)
            spawn_entity(&quot;skeleton&quot;, loc.x - 10, loc.y, loc.z)
        }
    }
}
</code></pre></div>

<p><strong>Advanced time/weather system:</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">let</span><span class="w"> </span><span class="n">worldState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">time</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="n">weather</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;clear&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">season</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;spring&quot;</span>
<span class="p">}</span>

<span class="k">func</span><span class="w"> </span><span class="n">updateWorldState</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s2">&quot;world&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">worldState</span><span class="o">.</span><span class="n">time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_time</span><span class="p">(</span><span class="n">world</span><span class="p">)</span>
<span class="w">    </span><span class="n">worldState</span><span class="o">.</span><span class="n">weather</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_weather</span><span class="p">(</span><span class="n">world</span><span class="p">)</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Determine</span><span class="w"> </span><span class="n">season</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">time</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">dayNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">floor</span><span class="p">(</span><span class="n">worldState</span><span class="o">.</span><span class="n">time</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">24000</span><span class="p">)</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">seasonIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">floor</span><span class="p">(</span><span class="n">dayNumber</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">4</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">seasonIndex</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">worldState</span><span class="o">.</span><span class="n">season</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;spring&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">seasonIndex</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">worldState</span><span class="o">.</span><span class="n">season</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;summer&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">seasonIndex</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">worldState</span><span class="o">.</span><span class="n">season</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;autumn&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">seasonIndex</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">worldState</span><span class="o">.</span><span class="n">season</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;winter&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="o">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;!world&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">updateWorldState</span><span class="p">()</span>
<span class="w">        </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Time: {worldState.time}&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Weather: {worldState.weather}&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Season: {worldState.season}&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Season</span><span class="o">-</span><span class="n">based</span><span class="w"> </span><span class="n">effects</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerMove</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">updateWorldState</span><span class="p">()</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">worldState</span><span class="o">.</span><span class="n">season</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;winter&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">worldState</span><span class="o">.</span><span class="n">weather</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;rain&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="n">Convert</span><span class="w"> </span><span class="n">rain</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">snow</span><span class="w"> </span><span class="n">effect</span>
<span class="w">            </span><span class="n">give_effect</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;slowness&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">worldState</span><span class="o">.</span><span class="n">season</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;summer&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">worldState</span><span class="o">.</span><span class="n">time</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">6000</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">worldState</span><span class="o">.</span><span class="n">time</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">12000</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="n">Hot</span><span class="w"> </span><span class="n">during</span><span class="w"> </span><span class="n">noon</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">summer</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="o">!</span><span class="n">in_region</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="n">shadeZone</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">give_effect</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;hunger&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Synchronized multi-world control:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">func</span><span class="w"> </span><span class="n">setAllWorldsTime</span><span class="p">(</span><span class="n">time</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">overworld</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s2">&quot;world&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">nether</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s2">&quot;world_nether&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s2">&quot;world_the_end&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="n">set_time</span><span class="p">(</span><span class="n">overworld</span><span class="p">,</span><span class="w"> </span><span class="n">time</span><span class="p">)</span>
<span class="w">    </span><span class="n">set_time</span><span class="p">(</span><span class="n">nether</span><span class="p">,</span><span class="w"> </span><span class="n">time</span><span class="p">)</span>
<span class="w">    </span><span class="n">set_time</span><span class="p">(</span><span class="n">end</span><span class="p">,</span><span class="w"> </span><span class="n">time</span><span class="p">)</span>

<span class="w">    </span><span class="n">broadcast</span><span class="p">(</span><span class="s2">&quot;All worlds synchronized to time: {time}&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span><span class="w"> </span><span class="n">setAllWorldsWeather</span><span class="p">(</span><span class="n">weather</span><span class="p">,</span><span class="w"> </span><span class="n">duration</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">overworld</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s2">&quot;world&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">nether</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s2">&quot;world_nether&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s2">&quot;world_the_end&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="n">set_weather</span><span class="p">(</span><span class="n">overworld</span><span class="p">,</span><span class="w"> </span><span class="n">weather</span><span class="p">,</span><span class="w"> </span><span class="n">duration</span><span class="p">)</span>
<span class="w">    </span><span class="n">set_weather</span><span class="p">(</span><span class="n">nether</span><span class="p">,</span><span class="w"> </span><span class="n">weather</span><span class="p">,</span><span class="w"> </span><span class="n">duration</span><span class="p">)</span>
<span class="w">    </span><span class="n">set_weather</span><span class="p">(</span><span class="n">end</span><span class="p">,</span><span class="w"> </span><span class="n">weather</span><span class="p">,</span><span class="w"> </span><span class="n">duration</span><span class="p">)</span>

<span class="w">    </span><span class="n">broadcast</span><span class="p">(</span><span class="s2">&quot;All worlds weather set to: {weather}&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="o">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;!sync day&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">is_op</span><span class="p">(</span><span class="n">player</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">setAllWorldsTime</span><span class="p">(</span><span class="mi">6000</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="o">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;!sync clear&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">is_op</span><span class="p">(</span><span class="n">player</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">setAllWorldsWeather</span><span class="p">(</span><span class="s2">&quot;clear&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">12000</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Complete world management system:</strong></p>
<div class="highlight"><pre><span></span><code>let worldConfig = {
    autoDay: false,
    autoClear: false,
    lockTime: false,
    lockedTime: 6000,
    weatherCycle: true
}

// Auto-day system
OnEvent(TimeChange) {
    if worldConfig.autoDay {
        if time.new &gt;= 12000 {
            set_time(world, 1000)
        }
    }

    if worldConfig.lockTime {
        set_time(world, worldConfig.lockedTime)
    }
}

// Auto-clear weather
OnEvent(WeatherChange) {
    if worldConfig.autoClear {
        if weather.new != &quot;clear&quot; {
            set_weather(world, &quot;clear&quot;, 12000)
        }
    }
}

// Configuration commands
OnEvent(PlayerChat) {
    if !is_op(player) {
        return
    }

    let world = get_world(&quot;world&quot;)

    // Toggle auto-day
    if chat.message == &quot;!autoday&quot; {
        worldConfig.autoDay = !worldConfig.autoDay
        broadcast(&quot;Auto-day: {worldConfig.autoDay}&quot;)
    }

    // Toggle auto-clear
    if chat.message == &quot;!autoclear&quot; {
        worldConfig.autoClear = !worldConfig.autoClear
        broadcast(&quot;Auto-clear weather: {worldConfig.autoClear}&quot;)
    }

    // Lock time
    if chat.message == &quot;!locktime&quot; {
        worldConfig.lockTime = !worldConfig.lockTime
        if worldConfig.lockTime {
            let currentTime = get_time(world)
            worldConfig.lockedTime = currentTime
            broadcast(&quot;Time locked at: {currentTime}&quot;)
        } else {
            broadcast(&quot;Time unlocked&quot;)
        }
    }

    // World status
    if chat.message == &quot;!worldstatus&quot; {
        sendmessage(player, &quot;=== World Status ===&quot;)
        sendmessage(player, &quot;Auto-day: {worldConfig.autoDay}&quot;)
        sendmessage(player, &quot;Auto-clear: {worldConfig.autoClear}&quot;)
        sendmessage(player, &quot;Lock time: {worldConfig.lockTime}&quot;)

        let time = get_time(world)
        let weather = get_weather(world)
        sendmessage(player, &quot;Current time: {time}&quot;)
        sendmessage(player, &quot;Current weather: {weather}&quot;)
    }
}
</code></pre></div>

<p><strong>Environmental hazards system:</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">let</span><span class="w"> </span><span class="n">lavaZone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Scope</span><span class="p">(</span><span class="mh">100</span><span class="p">,</span><span class="w"> </span><span class="mh">60</span><span class="p">,</span><span class="w"> </span><span class="mh">100</span><span class="p">,</span><span class="w"> </span><span class="mh">200</span><span class="p">,</span><span class="w"> </span><span class="mh">80</span><span class="p">,</span><span class="w"> </span><span class="mh">200</span><span class="p">)</span>
<span class="n">let</span><span class="w"> </span><span class="n">voidZone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Scope</span><span class="p">(</span><span class="mh">300</span><span class="p">,</span><span class="w"> </span><span class="mh">0</span><span class="p">,</span><span class="w"> </span><span class="mh">300</span><span class="p">,</span><span class="w"> </span><span class="mh">400</span><span class="p">,</span><span class="w"> </span><span class="mh">10</span><span class="p">,</span><span class="w"> </span><span class="mh">400</span><span class="p">)</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerMove</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Lava zone - creates dangerous environment</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">in_region</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="n">lavaZone</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Spawn fire periodically</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">loc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">player</span><span class="p">.</span><span class="n">location</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">loc</span><span class="p">.</span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">random</span><span class="p">(</span><span class="o">-</span><span class="mh">5</span><span class="p">,</span><span class="w"> </span><span class="mh">5</span><span class="p">)</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">loc</span><span class="p">.</span><span class="n">y</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">loc</span><span class="p">.</span><span class="n">z</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">random</span><span class="p">(</span><span class="o">-</span><span class="mh">5</span><span class="p">,</span><span class="w"> </span><span class="mh">5</span><span class="p">)</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">get_block</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;AIR&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">set_block</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;fire&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// Apply fire effect</span>
<span class="w">        </span><span class="n">give_effect</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;fire_resistance&quot;</span><span class="p">,</span><span class="w"> </span><span class="mh">100</span><span class="p">,</span><span class="w"> </span><span class="mh">0</span><span class="p">)</span>
<span class="w">        </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Fire resistance granted in lava zone&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Void zone - instant death if fall</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">in_region</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="n">voidZone</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">move</span><span class="p">.</span><span class="n">to</span><span class="p">.</span><span class="n">y</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mh">5</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">kill</span><span class="p">(</span><span class="n">player</span><span class="p">)</span>
<span class="w">            </span><span class="n">broadcast</span><span class="p">(</span><span class="s">&quot;{player.name} fell into the void!&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Terrain regeneration:</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">let</span><span class="w"> </span><span class="n">regenBlocks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{}</span>

<span class="n">func</span><span class="w"> </span><span class="n">markForRegen</span><span class="p">(</span><span class="n">location</span><span class="p">,</span><span class="w"> </span><span class="n">blockType</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;{location.x},{location.y},{location.z}&quot;</span>
<span class="w">    </span><span class="n">regenBlocks</span><span class="o">[</span><span class="n">key</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="nl">type</span><span class="p">:</span><span class="w"> </span><span class="n">blockType</span><span class="p">,</span>
<span class="w">        </span><span class="nc">time</span><span class="err">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">BlockBreak</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">in_region</span><span class="p">(</span><span class="n">block</span><span class="p">.</span><span class="n">location</span><span class="p">,</span><span class="w"> </span><span class="n">regenZone</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">markForRegen</span><span class="p">(</span><span class="n">block</span><span class="p">.</span><span class="n">location</span><span class="p">,</span><span class="w"> </span><span class="n">block</span><span class="p">.</span><span class="n">type</span><span class="p">)</span>
<span class="w">        </span><span class="n">sendmessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;Block will regenerate in 30 seconds&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>

<span class="o">//</span><span class="w"> </span><span class="k">Called</span><span class="w"> </span><span class="n">periodically</span><span class="w"> </span><span class="p">(</span><span class="k">every</span><span class="w"> </span><span class="k">second</span><span class="p">)</span>
<span class="n">func</span><span class="w"> </span><span class="n">tickRegen</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">regenBlocks</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">regenBlocks</span><span class="o">[</span><span class="n">key</span><span class="o">]</span>
<span class="w">        </span><span class="n">block</span><span class="p">.</span><span class="nc">time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">block</span><span class="p">.</span><span class="nc">time</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">block</span><span class="p">.</span><span class="nc">time</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="nf">Parse</span><span class="w"> </span><span class="n">coordinates</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">key</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">parts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">split</span><span class="p">(</span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;,&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">to_number</span><span class="p">(</span><span class="n">parts</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="p">)</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">to_number</span><span class="p">(</span><span class="n">parts</span><span class="o">[</span><span class="n">1</span><span class="o">]</span><span class="p">)</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">to_number</span><span class="p">(</span><span class="n">parts</span><span class="o">[</span><span class="n">2</span><span class="o">]</span><span class="p">)</span>

<span class="w">            </span><span class="n">set_block</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">,</span><span class="w"> </span><span class="n">block</span><span class="p">.</span><span class="n">type</span><span class="p">)</span>

<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="n">Remove</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">regen</span><span class="w"> </span><span class="n">list</span>
<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="nl">Note</span><span class="p">:</span><span class="w"> </span><span class="n">Would</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">proper</span><span class="w"> </span><span class="k">map</span><span class="w"> </span><span class="n">deletion</span>
<span class="w">            </span><span class="nf">log</span><span class="p">(</span><span class="ss">&quot;Regenerated block at {x}, {y}, {z}&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>
</code></pre></div>

<p><strong>World effects system:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">func</span><span class="w"> </span><span class="n">createFirework</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Simulate</span><span class="w"> </span><span class="n">firework</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">effects</span>
<span class="w">    </span><span class="n">create_explosion</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="bp">false</span><span class="p">)</span>

<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s2">&quot;world&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">strike_lightning</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">)</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Play</span><span class="w"> </span><span class="n">sound</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">nearby</span><span class="w"> </span><span class="n">players</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">players</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_online_players</span><span class="p">()</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">player</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">players</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">dist</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">distance</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">location</span><span class="p">,</span><span class="w"> </span><span class="n">location</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">))</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">dist</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">playsound</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;entity.firework_rocket.blast&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">func</span><span class="w"> </span><span class="n">createShockwave</span><span class="p">(</span><span class="n">centerX</span><span class="p">,</span><span class="w"> </span><span class="n">centerY</span><span class="p">,</span><span class="w"> </span><span class="n">centerZ</span><span class="p">,</span><span class="w"> </span><span class="n">radius</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Create</span><span class="w"> </span><span class="n">expanding</span><span class="w"> </span><span class="n">ring</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">effects</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">angle</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">360</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">radians</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">angle</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.0174533</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">Convert</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">radians</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">centerX</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">radius</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nb">cos</span><span class="p">(</span><span class="n">radians</span><span class="p">))</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">centerZ</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">radius</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nb">sin</span><span class="p">(</span><span class="n">radians</span><span class="p">))</span>

<span class="w">        </span><span class="n">create_explosion</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">centerY</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="bp">false</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="o">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;!firework&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">is_op</span><span class="p">(</span><span class="n">player</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">loc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">player</span><span class="o">.</span><span class="n">location</span>
<span class="w">            </span><span class="n">createFirework</span><span class="p">(</span><span class="n">loc</span><span class="o">.</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">loc</span><span class="o">.</span><span class="n">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">loc</span><span class="o">.</span><span class="n">z</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="o">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;!shockwave&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">is_op</span><span class="p">(</span><span class="n">player</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">loc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">player</span><span class="o">.</span><span class="n">location</span>
<span class="w">            </span><span class="n">createShockwave</span><span class="p">(</span><span class="n">loc</span><span class="o">.</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">loc</span><span class="o">.</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">loc</span><span class="o">.</span><span class="n">z</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<span class="w">            </span><span class="n">broadcast</span><span class="p">(</span><span class="s2">&quot;SHOCKWAVE!&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Mining event system:</strong></p>
<div class="highlight"><pre><span></span><code><span class="nx">OnEvent</span><span class="p">(</span><span class="nx">BlockBreak</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">blockType</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">block</span><span class="p">.</span><span class="k">type</span>

<span class="w">    </span><span class="c1">// Special ore events</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">blockType</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;diamond_ore&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Celebration effects</span>
<span class="w">        </span><span class="nx">strike_lightning</span><span class="p">(</span><span class="nx">block</span><span class="p">.</span><span class="nx">location</span><span class="p">)</span>
<span class="w">        </span><span class="nx">broadcast</span><span class="p">(</span><span class="s">&quot;{player.name} found DIAMONDS!&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="nx">give</span><span class="p">(</span><span class="nx">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;diamond&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w">  </span><span class="c1">// Bonus diamonds</span>

<span class="w">        </span><span class="c1">// Spawn bonus mobs</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">loc</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">block</span><span class="p">.</span><span class="nx">location</span>
<span class="w">        </span><span class="nx">spawn_entity</span><span class="p">(</span><span class="s">&quot;zombie&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">loc</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="nx">loc</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="w"> </span><span class="nx">loc</span><span class="p">.</span><span class="nx">z</span><span class="p">)</span>
<span class="w">        </span><span class="nx">sendmessage</span><span class="p">(</span><span class="nx">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;A guardian appeared!&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">blockType</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;ancient_debris&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Rare find effects</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">world</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">get_world</span><span class="p">(</span><span class="s">&quot;world_nether&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="nx">set_weather</span><span class="p">(</span><span class="nx">world</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;clear&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2000</span><span class="p">)</span>

<span class="w">        </span><span class="nx">broadcast</span><span class="p">(</span><span class="s">&quot;{player.name} found ANCIENT DEBRIS!&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="nx">create_explosion</span><span class="p">(</span><span class="nx">block</span><span class="p">.</span><span class="nx">location</span><span class="p">,</span><span class="w"> </span><span class="m m-Double">2.0</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">        </span><span class="nx">give</span><span class="p">(</span><span class="nx">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ancient_debris&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">  </span><span class="c1">// Bonus</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">blockType</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;coal_ore&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Small chance for bonus</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">chance</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">random</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">chance</span><span class="w"> </span><span class="p">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">// 10% chance</span>
<span class="w">            </span><span class="nx">give</span><span class="p">(</span><span class="nx">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;coal&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span>
<span class="w">            </span><span class="nx">sendmessage</span><span class="p">(</span><span class="nx">player</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Bonus coal!&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Apocalypse mode:</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">let</span><span class="w"> </span><span class="n">apocalypseActive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">false</span>

<span class="k">func</span><span class="w"> </span><span class="n">startApocalypse</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">apocalypseActive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">true</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s2">&quot;world&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="n">set_weather</span><span class="p">(</span><span class="n">world</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;thunder&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">12000</span><span class="p">)</span>
<span class="w">    </span><span class="n">set_time</span><span class="p">(</span><span class="n">world</span><span class="p">,</span><span class="w"> </span><span class="mi">18000</span><span class="p">)</span>

<span class="w">    </span><span class="n">broadcast</span><span class="p">(</span><span class="s2">&quot;THE APOCALYPSE HAS BEGUN!&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">broadcast</span><span class="p">(</span><span class="s2">&quot;Survive as long as you can!&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Spawn</span><span class="w"> </span><span class="n">hostile</span><span class="w"> </span><span class="n">mobs</span><span class="w"> </span><span class="n">everywhere</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">players</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_online_players</span><span class="p">()</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">player</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">players</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">loc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">player</span><span class="o">.</span><span class="n">location</span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">loc</span><span class="o">.</span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">random</span><span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">loc</span><span class="o">.</span><span class="n">z</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">random</span><span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span>
<span class="w">            </span><span class="n">spawn_entity</span><span class="p">(</span><span class="s2">&quot;zombie&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">loc</span><span class="o">.</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">func</span><span class="w"> </span><span class="n">stopApocalypse</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">apocalypseActive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">false</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_world</span><span class="p">(</span><span class="s2">&quot;world&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="n">set_weather</span><span class="p">(</span><span class="n">world</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;clear&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">12000</span><span class="p">)</span>
<span class="w">    </span><span class="n">set_time</span><span class="p">(</span><span class="n">world</span><span class="p">,</span><span class="w"> </span><span class="mi">6000</span><span class="p">)</span>

<span class="w">    </span><span class="n">broadcast</span><span class="p">(</span><span class="s2">&quot;The apocalypse has ended&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">broadcast</span><span class="p">(</span><span class="s2">&quot;You survived!&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">PlayerChat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">chat</span><span class="o">.</span><span class="n">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;!apocalypse&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">is_op</span><span class="p">(</span><span class="n">player</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="o">!</span><span class="n">apocalypseActive</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">startApocalypse</span><span class="p">()</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">stopApocalypse</span><span class="p">()</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Apocalypse</span><span class="w"> </span><span class="n">effects</span>
<span class="n">OnEvent</span><span class="p">(</span><span class="n">TimeChange</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">apocalypseActive</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">Keep</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">dark</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="n">new</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">12000</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">set_time</span><span class="p">(</span><span class="n">world</span><span class="p">,</span><span class="w"> </span><span class="mi">18000</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">OnEvent</span><span class="p">(</span><span class="n">WeatherChange</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">apocalypseActive</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">Keep</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">stormy</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">weather</span><span class="o">.</span><span class="n">new</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s2">&quot;thunder&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">set_weather</span><span class="p">(</span><span class="n">world</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;thunder&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">12000</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

                    <div class="page-meta">
                        <span class="last-modified">Last updated: November 15, 2025</span>
                    </div>
                </article>

                <nav class='toc'><h4>On This Page</h4><ul><li style='margin-left:0px'><a href='#overview'>Overview</a></li><li style='margin-left:0px'><a href='#block-manipulation'>Block Manipulation</a></li><li style='margin-left:20px'><a href='#set_block'>set_block()</a></li><li style='margin-left:20px'><a href='#get_block'>get_block()</a></li><li style='margin-left:20px'><a href='#break_block'>break_block()</a></li><li style='margin-left:0px'><a href='#entity-management'>Entity Management</a></li><li style='margin-left:20px'><a href='#spawn_entity'>spawn_entity()</a></li><li style='margin-left:20px'><a href='#remove_entity'>remove_entity()</a></li><li style='margin-left:0px'><a href='#world-effects'>World Effects</a></li><li style='margin-left:20px'><a href='#create_explosion'>create_explosion()</a></li><li style='margin-left:20px'><a href='#strike_lightning'>strike_lightning()</a></li><li style='margin-left:0px'><a href='#time-and-weather'>Time and Weather</a></li><li style='margin-left:20px'><a href='#set_time'>set_time()</a></li><li style='margin-left:20px'><a href='#get_time'>get_time()</a></li><li style='margin-left:20px'><a href='#set_weather'>set_weather()</a></li><li style='margin-left:20px'><a href='#get_weather'>get_weather()</a></li><li style='margin-left:0px'><a href='#world-utilities'>World Utilities</a></li><li style='margin-left:20px'><a href='#get_world'>get_world()</a></li><li style='margin-left:20px'><a href='#broadcast'>broadcast()</a></li><li style='margin-left:0px'><a href='#examples'>Examples</a></li><li style='margin-left:20px'><a href='#basic-block-manipulation'>Basic Block Manipulation</a></li><li style='margin-left:20px'><a href='#entity-spawning'>Entity Spawning</a></li><li style='margin-left:20px'><a href='#weather-control'>Weather Control</a></li><li style='margin-left:20px'><a href='#time-control'>Time Control</a></li></ul></nav>
            </div>

            <footer class="doc-footer">
                <div class="footer-content">
                    <div class="alpha-banner">Quill â€” A sandboxed scripting language for Minecraft event automation</div>
                    <div class="footer-links">
                        <a href="https://github.com/kohanmathers/quill/issues" target="_blank">Report Issue</a>
                        <span class="separator">â€¢</span>
                        <a href="https://github.com/kohanmathers/quill/blob/main/LICENSE" target="_blank">License</a>
                        <span class="separator">â€¢</span>
                        <a href="https://github.com/kohanmathers/quill" target="_blank">Contribute</a>
                    </div>
                </div>
            </footer>
        </main>
    </div>

    <script>
        function createParticles() {
            const particles = document.getElementById('particles');
            const symbols = ['fn', 'let', 'if', '{}', '()', '=>', '[]', '&&', '||', '==', '!='];
            const particleCount = 20;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.textContent = symbols[Math.floor(Math.random() * symbols.length)];
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 10 + 's';
                particle.style.animationDuration = (10 + Math.random() * 10) + 's';
                particles.appendChild(particle);
            }
        }

        document.addEventListener('DOMContentLoaded', function () {
            createParticles();

            document.querySelectorAll('.toc a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            });

            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    const id = entry.target.getAttribute('id');
                    if (entry.isIntersecting) {
                        document.querySelectorAll('.toc a').forEach(link => {
                            link.classList.remove('active');
                        });
                        const activeLink = document.querySelector(`.toc a[href="#${id}"]`);
                        if (activeLink) {
                            activeLink.classList.add('active');
                        }
                    }
                });
            }, { rootMargin: '-20% 0px -80% 0px' });

            document.querySelectorAll('h2[id], h3[id]').forEach(heading => {
                observer.observe(heading);
            });
        });
    </script>
</body>

</html>