<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A sandboxed scripting language for Minecraft event automation">
    <title>Concepts — Event Handlers — Quill</title>
    <link rel="stylesheet" href="http://127.0.0.1:5500/output/quilldocs.css">
</head>

<body>
    <!-- Animated Background Particles -->
    <div class="particles" id="particles"></div>

    <div class="layout">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>
                    <img src="https://raw.githubusercontent.com/KohanMathers/Quill/refs/heads/main/QuillLogo.png"
                        alt="Quill Logo">
                    <a href="../index.html">Quill</a>
                </h2>
                <p class="sidebar-tagline">A sandboxed scripting language for Minecraft event automation</p>
            </div>
            <nav class="sidebar-nav">
                <ul><li class='folder'><span class='folder-name'>api</span><ul><li><a href='/output/api/player.html'>Player</a></li><li><a href='/output/api/scope.html'>Scope</a></li><li><a href='/output/api/utility.html'>Utility</a></li><li><a href='/output/api/world.html'>World</a></li></ul></li><li class='folder'><span class='folder-name'>concepts</span><ul><li><a href='/output/concepts/events.html' class='active'>Events</a></li></ul></li><li class='folder'><span class='folder-name'>examples</span><ul><li><a href='/output/examples/welcome-system.html'>Welcome System</a></li></ul></li><li><a href='/output/index.html'>Index</a></li><li><a href='/output/installation.html'>Installation</a></li><li class='folder'><span class='folder-name'>language</span><ul><li><a href='/output/language/control-flow.html'>Control Flow</a></li><li><a href='/output/language/data-types.html'>Data Types</a></li><li><a href='/output/language/functions.html'>Functions</a></li><li><a href='/output/language/syntax.html'>Syntax</a></li></ul></li><li class='folder'><span class='folder-name'>tutorial</span><ul><li><a href='/output/tutorial/first-script.html'>First Script</a></li></ul></li></ul>
            </nav>
            <div class="sidebar-footer">
                <a class="github-link" href="https://github.com/kohanmathers/quill" target="_blank">
                    <svg width="20" height="20" viewBox="0 0 16 16" fill="currentColor">
                        <path
                            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z" />
                    </svg>
                    View on GitHub
                </a>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="content">
            <!-- Hero Section (only on index) -->
            <header class="hero hide-hero">
                <img class="hero-logo"
                    src="https://raw.githubusercontent.com/KohanMathers/Quill/refs/heads/main/QuillLogo.png"
                    alt="Quill Logo">
                <h1>Quill</h1>
                <p>A sandboxed scripting language for Minecraft event automation</p>
                <div class="button-group">
                    <a class="ghbutton" href="https://github.com/kohanmathers/quill" target="_blank">View on GitHub</a>
                    <a class="learnmore" href="getting-started.html">Get Started</a>
                </div>
            </header>

            <!-- Breadcrumb Navigation -->
            <nav class="breadcrumbs" aria-label="Breadcrumb">
                <a href='../index.html'>Quill</a><span class='separator'>/</span><span>Concepts</span><span class='separator'>/</span><span class='current'>Events</span>
            </nav>

            <!-- Documentation Content -->
            <div class="doc-layout">
                <article class="doc-content">
                    <h1 class="page-title">Concepts — Event Handlers</h1>
                    <h1 id="concepts-event-handlers">Concepts — Event Handlers</h1>
<p>Quill is event-driven: scripts react to Minecraft events like player joins, chat, block breaks, and more. This page explains how to use event handlers, what events are available, and how to access event context.</p>
<h2 id="event-handler-syntax">Event handler syntax</h2>
<p>Define an event handler with <code>OnEvent(EventName) { ... }</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nv">OnEvent</span><span class="ss">(</span><span class="nv">PlayerJoin</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">sendmessage</span><span class="ss">(</span><span class="nv">player</span>,<span class="w"> </span><span class="s2">&quot;Welcome, {player.name}!&quot;</span><span class="ss">)</span><span class="c1">;</span>
}

<span class="nv">OnEvent</span><span class="ss">(</span><span class="nv">PlayerChat</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nv">chat</span>.<span class="nv">message</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;!hello&quot;</span><span class="w"> </span>{
<span class="w">        </span><span class="nv">sendmessage</span><span class="ss">(</span><span class="nv">player</span>,<span class="w"> </span><span class="s2">&quot;Hello!&quot;</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span>}
}
</code></pre></div>

<p>You can define multiple handlers for the same event. Handlers run in the order they appear in the script.</p>
<h2 id="available-events">Available events</h2>
<h3 id="player-events">Player events</h3>
<ul>
<li><code>PlayerJoin</code> — player joins the server (context: <code>player</code>)</li>
<li><code>PlayerQuit</code> — player leaves the server (context: <code>player</code>)</li>
<li><code>PlayerChat</code> — player sends chat (context: <code>player</code>, <code>chat.message</code>)</li>
<li><code>PlayerMove</code> — player moves (context: <code>player</code>, <code>move.from</code>, <code>move.to</code>)</li>
<li><code>PlayerDamage</code> — player takes damage (context: <code>damage.target</code>, <code>damage.source</code>, <code>damage.amount</code>, <code>damage.cause</code>, <code>event</code>)</li>
<li><code>PlayerDeath</code> — player dies (context: <code>player</code>, <code>death.killer</code>, <code>death.cause</code>)</li>
<li><code>PlayerRespawn</code> — player respawns (context: <code>player</code>)</li>
<li><code>PlayerInteract</code> — player interacts (context: <code>player</code>, <code>interact.block</code>, <code>interact.item</code>, <code>event</code>)</li>
<li><code>PlayerDropItem</code> — player drops item (context: <code>player</code>, <code>item</code>, <code>event</code>)</li>
<li><code>PlayerPickupItem</code> — player picks up item (context: <code>player</code>, <code>item</code>, <code>event</code>)</li>
<li><code>PlayerTeleport</code> — player teleports (context: <code>player</code>, <code>teleport.from</code>, <code>teleport.to</code>, <code>event</code>)</li>
<li><code>PlayerGameModeChange</code> — gamemode changes (context: <code>player</code>, <code>gamemode.old</code>, <code>gamemode.new</code>, <code>event</code>)</li>
</ul>
<h3 id="block-events">Block events</h3>
<ul>
<li><code>BlockBreak</code> — block broken (context: <code>player</code>, <code>block.type</code>, <code>block.location</code>, <code>event</code>)</li>
<li><code>BlockPlace</code> — block placed (context: <code>player</code>, <code>block.type</code>, <code>block.location</code>, <code>event</code>)</li>
<li><code>BlockInteract</code> — block interacted (context: <code>player</code>, <code>block.type</code>, <code>block.location</code>, <code>event</code>)</li>
</ul>
<h3 id="entity-events">Entity events</h3>
<ul>
<li><code>EntitySpawn</code> — entity spawns (context: <code>entity</code>, <code>entity.type</code>, <code>entity.location</code>)</li>
<li><code>EntityDeath</code> — entity dies (context: <code>entity</code>, <code>entity.killer</code>)</li>
<li><code>EntityDamage</code> — entity takes damage (context: <code>entity</code>, <code>damage.source</code>, <code>damage.amount</code>, <code>event</code>)</li>
</ul>
<h3 id="world-events">World events</h3>
<ul>
<li><code>TimeChange</code> — world time changes (context: <code>world</code>, <code>time.old</code>, <code>time.new</code>)</li>
<li><code>WeatherChange</code> — weather changes (context: <code>world</code>, <code>weather.new</code>)</li>
</ul>
<h3 id="custom-events">Custom events</h3>
<ul>
<li><code>CustomEvent</code> — for user-defined triggers (context: <code>event.name</code>, <code>event.data</code>)</li>
</ul>
<h2 id="accessing-event-context">Accessing event context</h2>
<p>Each event provides context variables. For example, in <code>PlayerChat</code>, you get <code>player</code> and <code>chat.message</code>:</p>
<div class="highlight"><pre><span></span><code>OnEvent(PlayerChat) {
    if chat.message == &quot;!coords&quot; {
        let loc = get_location(player);
        sendmessage(player, &quot;You are at {loc.x}, {loc.y}, {loc.z}&quot;);
    }
}
</code></pre></div>

<p>See the <a href="../../SPEC.md">language spec</a> for full context details for each event.</p>
<h2 id="canceling-and-controlling-events">Canceling and controlling events</h2>
<p>Some events (like <code>BlockBreak</code>, <code>PlayerInteract</code>, <code>PlayerDropItem</code>) can be canceled to prevent the default Minecraft behavior:</p>
<div class="highlight"><pre><span></span><code>OnEvent(BlockBreak) {
    if !is_op(player) {
        sendmessage(player, &quot;You can&#39;t break blocks!&quot;);
        cancel(event);
    }
}
</code></pre></div>

<h2 id="multiple-handlers-and-order">Multiple handlers and order</h2>
<p>You can have several handlers for the same event. They run in script order. Use this to layer logic (e.g., logging, permission checks, game logic).</p>
<h2 id="related-topics">Related topics</h2>
<ul>
<li>Syntax basics: <code>../language/syntax.html</code></li>
<li>Scopes and regions: <code>scopes.html</code></li>
<li>Full event reference: <code>../../SPEC.md</code></li>
</ul>
<hr />
<p>For a full list of event names, context variables, and advanced usage, see the language specification and API reference pages.</p>

                    <!-- Last Modified -->
                    <div class="page-meta">
                        <span class="last-modified">Last updated: November 07, 2025</span>
                    </div>
                </article>

                <!-- Table of Contents -->
                <nav class='toc'><h4>On This Page</h4><ul><li style='margin-left:0px'><a href='#event-handler-syntax'>Event handler syntax</a></li><li style='margin-left:0px'><a href='#available-events'>Available events</a></li><li style='margin-left:20px'><a href='#player-events'>Player events</a></li><li style='margin-left:20px'><a href='#block-events'>Block events</a></li><li style='margin-left:20px'><a href='#entity-events'>Entity events</a></li><li style='margin-left:20px'><a href='#world-events'>World events</a></li><li style='margin-left:20px'><a href='#custom-events'>Custom events</a></li><li style='margin-left:0px'><a href='#accessing-event-context'>Accessing event context</a></li><li style='margin-left:0px'><a href='#canceling-and-controlling-events'>Canceling and controlling events</a></li><li style='margin-left:0px'><a href='#multiple-handlers-and-order'>Multiple handlers and order</a></li><li style='margin-left:0px'><a href='#related-topics'>Related topics</a></li></ul></nav>
            </div>

            <!-- Footer -->
            <footer class="doc-footer">
                <div class="footer-content">
                    <div class="alpha-banner">Quill — A sandboxed scripting language for Minecraft event automation</div>
                    <div class="footer-links">
                        <a href="https://github.com/kohanmathers/quill/issues" target="_blank">Report Issue</a>
                        <span class="separator">•</span>
                        <a href="https://github.com/kohanmathers/quill/blob/main/LICENSE" target="_blank">License</a>
                        <span class="separator">•</span>
                        <a href="https://github.com/kohanmathers/quill" target="_blank">Contribute</a>
                    </div>
                </div>
            </footer>
        </main>
    </div>

    <!-- Smooth scroll and particle animation -->
    <script>
        // Generate floating particles
        function createParticles() {
            const particles = document.getElementById('particles');
            const symbols = ['fn', 'let', 'if', '{}', '()', '=>', '[]', '&&', '||', '==', '!='];
            const particleCount = 20;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.textContent = symbols[Math.floor(Math.random() * symbols.length)];
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 10 + 's';
                particle.style.animationDuration = (10 + Math.random() * 10) + 's';
                particles.appendChild(particle);
            }
        }

        document.addEventListener('DOMContentLoaded', function () {
            createParticles();

            // Smooth scroll for TOC links
            document.querySelectorAll('.toc a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            });

            // Highlight current section in TOC
            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    const id = entry.target.getAttribute('id');
                    if (entry.isIntersecting) {
                        document.querySelectorAll('.toc a').forEach(link => {
                            link.classList.remove('active');
                        });
                        const activeLink = document.querySelector(`.toc a[href="#${id}"]`);
                        if (activeLink) {
                            activeLink.classList.add('active');
                        }
                    }
                });
            }, { rootMargin: '-20% 0px -80% 0px' });

            document.querySelectorAll('h2[id], h3[id]').forEach(heading => {
                observer.observe(heading);
            });
        });
    </script>
</body>

</html>